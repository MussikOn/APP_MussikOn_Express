{"version":3,"names":["cov_e0o7et3kb","actualCoverage","express_1","s","__importDefault","require","authMiddleware_1","chatController_1","router","default","Router","use","authMiddleware","get","getConversations","searchConversations","getChatStats","getAvailableUsers","post","createConversation","getConversationById","getMessages","sendMessage","patch","markAsRead","archiveConversation","delete","deleteConversation","exports"],"sources":["C:\\src\\APP_MussikOn\\APP_MussikOn_Express\\src\\routes\\chatRoutes.ts"],"sourcesContent":["import express from 'express';\r\nimport { authMiddleware } from '../middleware/authMiddleware';\r\nimport {\r\n  getConversations,\r\n  getMessages,\r\n  sendMessage,\r\n  markAsRead,\r\n  createConversation,\r\n  searchConversations,\r\n  deleteConversation,\r\n  archiveConversation,\r\n  getConversationById,\r\n  getChatStats,\r\n  getAvailableUsers,\r\n} from '../controllers/chatController';\r\n\r\nconst router = express.Router();\r\n\r\n// Aplicar middleware de autenticación a todas las rutas\r\nrouter.use(authMiddleware);\r\n\r\n// Obtener todas las conversaciones del usuario\r\nrouter.get('/conversations', getConversations);\r\n\r\n// Buscar conversaciones con filtros\r\nrouter.get('/conversations/search', searchConversations);\r\n\r\n// Obtener estadísticas de chat\r\nrouter.get('/stats', getChatStats);\r\n\r\n// Obtener usuarios disponibles para chat\r\nrouter.get('/users/available', getAvailableUsers);\r\n\r\n// Crear una nueva conversación\r\nrouter.post('/conversations', createConversation);\r\n\r\n// Obtener conversación por ID\r\nrouter.get('/conversations/:conversationId', getConversationById);\r\n\r\n// Obtener mensajes de una conversación\r\nrouter.get('/conversations/:conversationId/messages', getMessages);\r\n\r\n// Enviar mensaje a una conversación\r\nrouter.post('/conversations/:conversationId/messages', sendMessage);\r\n\r\n// Marcar mensaje como leído\r\nrouter.patch('/messages/:messageId/read', markAsRead);\r\n\r\n// Archivar conversación\r\nrouter.patch('/conversations/:conversationId/archive', archiveConversation);\r\n\r\n// Eliminar conversación\r\nrouter.delete('/conversations/:conversationId', deleteConversation);\r\n\r\nexport default router;\r\n"],"mappings":"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","ignoreList":[]}