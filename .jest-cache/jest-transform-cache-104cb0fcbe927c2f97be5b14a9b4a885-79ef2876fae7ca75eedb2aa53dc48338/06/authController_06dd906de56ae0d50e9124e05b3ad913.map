{"version":3,"names":["cov_1ebl7we1os","actualCoverage","exports","registerController","s","loginController","bcrypt_1","__importDefault","require","authModel_1","validatios_1","jwt_1","mailer_1","functions_1","firebase_1","req","res","f","name","lastName","roll","userEmail","userPassword","status","body","console","log","b","json","msg","validarPassword","validarEmail","pass","default","hash","userStatus","saved","registerModel","token","createToken","user","getUserByEmailModel","data","error","info","isMatch","compare","updateUserByEmailController","__awaiter","dataUsers","params","toLocaleLowerCase","updateValidation","updateUserByEmailModel","emailRegisterController","numRandon","numberRandon","toString","numParam","html","querySnapshot","db","collection","where","get","empty","sendEmail","err","validNumberGetByEmail","numBack","vaildNumber","addEventToUserController","eventData","result","addEventToUserModel","requestEmailVerificationController","success","message","includes","existingUser","verificationCode","hashedCode","tempUserData","toLowerCase","expiresAt","Date","now","verificationCodes","set","code","userData","expiresIn","Error","verifyAndCompleteRegistrationController","storedData","delete","isCodeValid","deleteUserByEmailController","deleteUserByEmailModel","Map","generateVerificationCode","Math","floor","random","cleanupExpiredCodes","email","entries","process","env","NODE_ENV","setInterval","forgotPasswordController","emailError","verifyCodeController","resetPasswordController","newPassword","hashedPassword","updateData","update_at","updateResult"],"sources":["C:\\src\\APP_MussikOn\\APP_MussikOn_Express\\src\\controllers\\authController.ts"],"sourcesContent":["import { Request, Response } from 'express';\nimport bcrypt from 'bcrypt';\nimport {\n  getUserByEmailModel,\n  registerModel,\n  updateUserByEmailModel,\n  addEventToUserModel,\n  deleteUserByEmailModel,\n} from '../models/authModel';\nimport { authUserRegister } from '../utils/DataTypes';\nimport { validarEmail, validarPassword } from '../utils/validatios';\nimport { createToken } from '../utils/jwt';\nimport { sendEmail } from '../utils/mailer';\nimport { numberRandon } from '../utils/functions';\nimport { db } from '../utils/firebase';\n\n/**\n * @swagger\n * components:\n *   schemas:\n *     AuthUserRegister:\n *       type: object\n *       properties:\n *         name:\n *           type: string\n *         lastName:\n *           type: string\n *         roll:\n *           type: string\n *         userEmail:\n *           type: string\n *         userPassword:\n *           type: string\n *     Event:\n *       type: object\n *       properties:\n *         id:\n *           type: integer\n *         user:\n *           type: string\n *         eventName:\n *           type: string\n *         requesterName:\n *           type: string\n *         location:\n *           type: string\n *         date:\n *           type: string\n *         time:\n *           type: string\n *         duration:\n *           type: string\n *         instrument:\n *           type: string\n *         bringInstrument:\n *           type: boolean\n *         comment:\n *           type: string\n *         budget:\n *           type: string\n *         eventType:\n *           type: string\n *         flyerUrl:\n *           type: string\n *         songs:\n *           type: array\n *           items:\n *             type: string\n *         recommendations:\n *           type: array\n *           items:\n *             type: string\n *         mapsLink:\n *           type: string\n */\nexport async function registerController(req: Request, res: Response) {\n  try {\n    const {\n      name,\n      lastName,\n      roll,\n      userEmail,\n      userPassword,\n      status,\n    }: authUserRegister = req.body;\n    console.log(\n      '[src/controllers/authController.ts:72] Datos de registro recibidos:',\n      req.body\n    );\n    if (!name || !lastName || !roll || !userEmail || !userPassword) {\n      res.status(400).json({\n        msg: 'Error al registrarse, todos los campos deben de ser llenados',\n      });\n      return;\n    }\n    if (!validarPassword(userPassword)) {\n      res.status(400).json({\n        msg: 'La contraseña no cumple con los requisitos, debe de contener Mayúsculas, Minúsculas, Números y Carácteres especiales \\n\\n\\nEjemplo: Tunombre*55 .',\n      });\n      return;\n    }\n    if (!validarEmail(userEmail)) {\n      res.status(400).json({ msg: 'Correo Electrónico inválido.' });\n      return;\n    }\n    const pass = await bcrypt.hash(userPassword, 10);\n    // status por defecto true si no se envía\n    const userStatus = typeof status === 'boolean' ? status : true;\n    const saved = await registerModel(\n      name,\n      lastName,\n      roll,\n      userEmail,\n      pass,\n      userStatus\n    );\n    if (!saved) {\n      const token = createToken(name, lastName, userEmail, roll);\n      const user = await getUserByEmailModel(userEmail);\n      res\n        .status(200)\n        .json({ msg: 'Usuario Registrado con éxito.', token, user });\n      return;\n    } else if (saved === 'Hay campos que no han sido llenados') {\n      res\n        .status(409)\n        .json({ msg: 'Hay campos que no han sido llenados', data: saved });\n      return;\n    } else if (saved === 'El usuario ya Existe.') {\n      res.status(409).json({\n        msg: 'Ya hay un usuario con esta direccion de correo electrónico.',\n        data: saved,\n      });\n      return;\n    }\n  } catch (error) {\n    console.info(\n      `[src/controllers/authController.ts:95] Hubo un error al intentar registar un Usuario: ${error}`\n    );\n    res.status(400).json({ msg: 'Error al registrarse.', error });\n    return;\n  }\n}\n\nexport async function loginController(req: Request, res: Response) {\n  try {\n    const { userEmail, userPassword } = req.body;\n    if (!userEmail || !userPassword) {\n      res.status(400).json({ msg: 'Todos los campos deben de ser llenados.' });\n      return;\n    }\n    if (!validarEmail(userEmail)) {\n      res\n        .status(400)\n        .json({ msg: 'Dirección de correo electrónico no válido.' });\n      return;\n    }\n    const data = await getUserByEmailModel(userEmail);\n    if (!data) {\n      res.status(401).json({\n        msg: 'Verifique su dirección de correo electrónico o regístrese si no tiene una cuenta.',\n      });\n      return;\n    }\n    const name = data.name;\n    const lastName = data.lastName;\n    const roll = data.roll;\n    const pass = data.userPassword;\n    const isMatch = await bcrypt.compare(userPassword, pass);\n    if (!isMatch) {\n      res.status(401).json({ msg: 'Contraseña incorrecta.' });\n      return;\n    }\n    const token = createToken(name, lastName, userEmail, roll);\n    res.status(200).json({ msg: 'Login Exitoso', token, user: data });\n  } catch (error) {\n    res\n      .status(401)\n      .json({ msg: 'Error en la petición, Inténtelo mas tarde.', error });\n    return;\n  }\n}\n\nexport const updateUserByEmailController = async (\n  req: Request,\n  res: Response\n) => {\n  try {\n    const dataUsers = req.body;\n    const userEmail = req.params.userEmail.toLocaleLowerCase();\n    if (!dataUsers || !userEmail) {\n      res.status(401).json({ msg: 'No hay Datos para actualizar' });\n    }\n    if (!validarEmail(userEmail)) {\n      res\n        .status(400)\n        .json({ msg: 'Dirección de correo electrónico no válido.' });\n      return;\n    }\n    // status por defecto true si no se envía\n    if (typeof dataUsers.status !== 'boolean') {\n      dataUsers.status = true;\n    }\n    const updateValidation = await updateUserByEmailModel(userEmail, dataUsers);\n    if (updateValidation) {\n      console.info('Resultado de updateUserByEmailModel');\n      console.info(updateValidation);\n      res.status(401).json({ msg: updateValidation });\n    }\n    res.status(200).json({ msg: 'Consulta éxitosa' });\n  } catch (error) {\n    console.info('Error al actualizar los datos.');\n    res.status(401).json({ msg: 'Error al actualizar el usuario.' });\n  }\n};\n\nexport const emailRegisterController = async (req: Request, res: Response) => {\n  const numRandon = numberRandon().toString();\n  const numParam = await bcrypt.hash(numRandon, 10);\n  const html = `<!DOCTYPE html>\n  <html lang=\"es\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n    <title>Verifica tu correo - MusikOn</title>\n  </head>\n  <body style=\"margin: 0; padding: 0; background-color: #f4f4f4; font-family: 'Segoe UI', sans-serif;\">\n    <table align=\"center\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color: #f4f4f4; padding: 20px;\">\n      <tr>\n        <td align=\"center\">\n          <table width=\"600\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color: #004aad; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n            <!-- Logo -->\n            <tr>\n              <td style=\"padding: 30px 0; text-align: center; background-color: #ffffff;\">\n                <img src=\"https://lh3.googleusercontent.com/a/ACg8ocLSs4B7UmP4bKLb26G-puyYjCURVh0Qnf9yHD_zxbCfRJTd3DFOovBly95OzJTWk34hnBf1RhigsdCnM0Wwg3TKCgsJ3rs=s288-c-no\" alt=\"MusikOn Logo\" width=\"120\" style=\"border-radius: 50%;\" />\n              </td>\n            </tr>\n\n            <!-- Título -->\n            <tr>\n              <td style=\"padding: 30px; text-align: center;\">\n                <h2 style=\"margin: 0; font-size: 26px; color: #fff;\">¡Bienvenido a <span style=\"color: #f1f1f1;\">MusikOn</span>!</h2>\n                <p style=\"font-size: 16px; color: hsl(246, 100%, 92%);\">Gracias por registrarte. Solo falta un paso para activar tu cuenta.</p>\n              </td>\n            </tr>\n\n            <!-- Botón -->\n            <tr>\n              <td style=\"text-align: center; padding: 20px;\">\n                <h1 style=\"display: inline-block; padding: 15px 30px; background-color: #004aad; color: #fff; text-decoration: none; font-weight: bold; border-radius: 8px; font-size: 50px;\">\n                  ${numRandon}\n                </h1>\n              </td>\n            </tr>\n\n            <!-- Mensaje de soporte -->\n            <tr>\n              <td style=\"padding: 20px 40px; text-align: center; font-size: 14px; color: #b6c9ff;\">\n                Si no creaste esta cuenta, puedes ignorar este mensaje. Si tienes dudas, contáctanos en <a href=\"mailto:appmusikon@gmail.com\" style=\"color: hsl(214, 100%, 77%);\">appmusikon@gmail.com</a>\n              </td>\n            </tr>\n\n            <!-- Footer -->\n            <tr>\n              <td style=\"text-align: center; padding: 30px; background-color: #f0f0f0; font-size: 12px; color: #0041f3;\">\n                &copy; 2025 MusikOn. Todos los derechos reservados.\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n    </table>\n  </body>\n  </html>`;\n  try {\n    const userEmail = req.body.userEmail.toLocaleLowerCase();\n    if (!userEmail) {\n      res.status(400).json({ msg: 'Todos los campos deben de ser llenados.' });\n      return;\n    }\n    if (!validarEmail(userEmail)) {\n      res\n        .status(402)\n        .json({ msg: 'Dirección de correo electrónico no válido.' });\n      return;\n    }\n    const querySnapshot = await db\n      .collection('users')\n      .where('userEmail', '==', userEmail)\n      .get();\n    if (!querySnapshot.empty) {\n      res.status(409).json({\n        msg: 'Ya hay un usuario con esta dirección de correo electrónico.',\n      });\n      return;\n    } else {\n      await sendEmail(userEmail, 'Verifica tu cuenta en MusikOn', html);\n      res.status(200).json({ msg: 'Email recibido con exito!', numParam });\n    }\n  } catch (err) {\n    res\n      .status(400)\n      .json({ msg: 'Verifique bien su dirección de correo electrónico.', err });\n    return;\n  }\n};\n\nexport const validNumberGetByEmail = async (req: Request, res: Response) => {\n  try {\n    const numBack = req.body.vaildNumber.toString();\n    const numParam = req.params.vaildNumber.toString();\n    if (numBack === '' || numParam === '') {\n      res.status(402).json({ msg: 'Faltan datos requeridos.' });\n      return;\n    }\n    const isMatch = await bcrypt.compare(numParam, numBack);\n    if (!isMatch) {\n      console.info(`Son Iguales: ${numBack},${numParam}.`);\n      res.status(402).json({ msg: 'Codigo Incorrecto.' });\n      return;\n    }\n    console.info(`Numero del Body: ${numBack}`);\n    console.info(`Numero del Parametros: ${numParam}`);\n    res.status(200).json({ msg: 'Bien hecho!' });\n  } catch (err) {\n    res.status(402).json({ msg: 'Fallo el proceso!' });\n  }\n};\n\nexport const addEventToUserController = async (req: Request, res: Response) => {\n  try {\n    const user = (req as any).user;\n    if (!user || !user.userEmail) {\n      res.status(401).json({ msg: 'Usuario no autenticado.' });\n      return;\n    }\n    const eventData = req.body;\n    if (!eventData) {\n      res\n        .status(400)\n        .json({ msg: 'No se proporcionó información del evento.' });\n      return;\n    }\n    const result = await addEventToUserModel(user.userEmail, eventData);\n    if (!result) {\n      res.status(200).json({ msg: 'Evento guardado exitosamente.' });\n    } else {\n      res.status(400).json({ msg: result });\n    }\n  } catch (error) {\n    res.status(500).json({ msg: 'Error al guardar el evento.', error });\n  }\n};\n\n// Controlador para solicitar verificación de email (para músicos y creadores de eventos)\nexport const requestEmailVerificationController = async (\n  req: Request,\n  res: Response\n) => {\n  try {\n    const { name, lastName, userEmail, userPassword, roll }: {\n      name: string;\n      lastName: string;\n      userEmail: string;\n      userPassword: string;\n      roll: 'musico' | 'eventCreator';\n    } = req.body;\n\n    console.log(\n      '[src/controllers/authController.ts:356] Solicitud de verificación recibida:',\n      { name, lastName, userEmail, roll }\n    );\n\n    // Validar campos requeridos\n    if (!name || !lastName || !userEmail || !userPassword || !roll) {\n      return res.status(400).json({\n        success: false,\n        message: 'Todos los campos son requeridos: name, lastName, userEmail, userPassword, roll',\n      });\n    }\n\n    // Validar email\n    if (!validarEmail(userEmail)) {\n      return res.status(400).json({\n        success: false,\n        message: 'El formato del email no es válido',\n      });\n    }\n\n    // Validar contraseña\n    if (!validarPassword(userPassword)) {\n      return res.status(400).json({\n        success: false,\n        message: 'La contraseña debe contener mayúsculas, minúsculas, números y caracteres especiales',\n      });\n    }\n\n    // Validar rol\n    if (!['musico', 'eventCreator'].includes(roll)) {\n      return res.status(400).json({\n        success: false,\n        message: 'El rol debe ser \"musico\" o \"eventCreator\"',\n      });\n    }\n\n    // Verificar si el usuario ya existe\n    const existingUser = await getUserByEmailModel(userEmail);\n    if (existingUser) {\n      return res.status(409).json({\n        success: false,\n        message: 'Ya existe un usuario con este email',\n      });\n    }\n\n    // Generar código de verificación\n    const verificationCode = numberRandon().toString();\n    const hashedCode = await bcrypt.hash(verificationCode, 10);\n\n    // Guardar datos temporalmente (se guardarán en la base de datos después de la verificación)\n    const tempUserData = {\n      name,\n      lastName,\n      userEmail: userEmail.toLowerCase(),\n      userPassword,\n      roll,\n      verificationCode: hashedCode,\n      expiresAt: Date.now() + 15 * 60 * 1000, // 15 minutos\n    };\n\n    // Guardar en memoria temporal (en producción usar Redis)\n    verificationCodes.set(userEmail.toLowerCase(), {\n      code: verificationCode,\n      userData: tempUserData,\n      expiresAt: Date.now() + 15 * 60 * 1000,\n    });\n\n    // Enviar email de verificación\n    const html = `<!DOCTYPE html>\n    <html lang=\"es\">\n    <head>\n      <meta charset=\"UTF-8\" />\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n      <title>Verifica tu cuenta - MusikOn</title>\n    </head>\n    <body style=\"margin: 0; padding: 0; background-color: #f4f4f4; font-family: 'Segoe UI', sans-serif;\">\n      <table align=\"center\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color: #f4f4f4; padding: 20px;\">\n        <tr>\n          <td align=\"center\">\n            <table width=\"600\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color: #004aad; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n              <!-- Logo -->\n              <tr>\n                <td style=\"padding: 30px 0; text-align: center; background-color: #ffffff;\">\n                  <img src=\"https://lh3.googleusercontent.com/a/ACg8ocLSs4B7UmP4bKLb26G-puyYjCURVh0Qnf9yHD_zxbCfRJTd3DFOovBly95OzJTWk34hnBf1RhigsdCnM0Wwg3TKCgsJ3rs=s288-c-no\" alt=\"MusikOn Logo\" width=\"120\" style=\"border-radius: 50%;\" />\n                </td>\n              </tr>\n\n              <!-- Título -->\n              <tr>\n                <td style=\"padding: 30px; text-align: center;\">\n                  <h2 style=\"margin: 0; font-size: 26px; color: #fff;\">¡Bienvenido a <span style=\"color: #f1f1f1;\">MusikOn</span>!</h2>\n                  <p style=\"font-size: 16px; color: hsl(246, 100%, 92%);\">Gracias por registrarte como ${roll === 'musico' ? 'músico' : 'creador de eventos'}. Solo falta un paso para activar tu cuenta.</p>\n                </td>\n              </tr>\n\n              <!-- Código -->\n              <tr>\n                <td style=\"text-align: center; padding: 20px;\">\n                  <h1 style=\"display: inline-block; padding: 15px 30px; background-color: #004aad; color: #fff; text-decoration: none; font-weight: bold; border-radius: 8px; font-size: 50px;\">\n                    ${verificationCode}\n                  </h1>\n                </td>\n              </tr>\n\n              <!-- Instrucciones -->\n              <tr>\n                <td style=\"padding: 20px 40px; text-align: center; font-size: 14px; color: #b6c9ff;\">\n                  <p>Ingresa este código en la aplicación para completar tu registro.</p>\n                  <p>Este código expira en 15 minutos.</p>\n                </td>\n              </tr>\n\n              <!-- Mensaje de soporte -->\n              <tr>\n                <td style=\"padding: 20px 40px; text-align: center; font-size: 14px; color: #b6c9ff;\">\n                  Si no creaste esta cuenta, puedes ignorar este mensaje. Si tienes dudas, contáctanos en <a href=\"mailto:appmusikon@gmail.com\" style=\"color: hsl(214, 100%, 77%);\">appmusikon@gmail.com</a>\n                </td>\n              </tr>\n\n              <!-- Footer -->\n              <tr>\n                <td style=\"text-align: center; padding: 30px; background-color: #f0f0f0; font-size: 12px; color: #0041f3;\">\n                  &copy; 2025 MusikOn. Todos los derechos reservados.\n                </td>\n              </tr>\n            </table>\n          </td>\n        </tr>\n      </table>\n    </body>\n    </html>`;\n\n    await sendEmail(userEmail, 'Verifica tu cuenta en MusikOn', html);\n\n    console.log(\n      '[src/controllers/authController.ts:420] Email de verificación enviado:',\n      userEmail\n    );\n\n    return res.status(200).json({\n      success: true,\n      message: 'Email de verificación enviado exitosamente. Revisa tu bandeja de entrada.',\n      data: {\n        userEmail,\n        roll,\n        expiresIn: '15 minutos',\n      },\n    });\n  } catch (error) {\n    console.error(\n      '[src/controllers/authController.ts:440] Error en requestEmailVerificationController:',\n      error\n    );\n    return res.status(500).json({\n      success: false,\n      message: 'Error interno del servidor',\n      error: error instanceof Error ? error.message : 'Error desconocido',\n    });\n  }\n};\n\n// Controlador para verificar código y completar registro\nexport const verifyAndCompleteRegistrationController = async (\n  req: Request,\n  res: Response\n) => {\n  try {\n    const { userEmail, code }: {\n      userEmail: string;\n      code: string;\n    } = req.body;\n\n    console.log(\n      '[src/controllers/authController.ts:450] Verificación de código recibida:',\n      { userEmail, code }\n    );\n\n    // Validar campos requeridos\n    if (!userEmail || !code) {\n      return res.status(400).json({\n        success: false,\n        message: 'Email y código son requeridos',\n      });\n    }\n\n    // Validar email\n    if (!validarEmail(userEmail)) {\n      return res.status(400).json({\n        success: false,\n        message: 'Email inválido',\n      });\n    }\n\n    // Buscar datos temporales\n    const storedData = verificationCodes.get(userEmail.toLowerCase());\n    if (!storedData) {\n      return res.status(400).json({\n        success: false,\n        message: 'Código no encontrado o expirado',\n      });\n    }\n\n    // Verificar expiración\n    if (storedData.expiresAt < Date.now()) {\n      verificationCodes.delete(userEmail.toLowerCase());\n      return res.status(400).json({\n        success: false,\n        message: 'Código expirado',\n      });\n    }\n\n    // Verificar que existan los datos del usuario\n    if (!storedData.userData) {\n      return res.status(400).json({\n        success: false,\n        message: 'Datos de registro no encontrados',\n      });\n    }\n\n    // Verificar código\n    const isCodeValid = await bcrypt.compare(code, storedData.userData.verificationCode);\n    if (!isCodeValid) {\n      return res.status(400).json({\n        success: false,\n        message: 'Código inválido',\n      });\n    }\n\n    // Registrar usuario en la base de datos\n    const { name, lastName, userPassword, roll } = storedData.userData;\n    const result = await registerModel(name, lastName, roll, userEmail, userPassword, true);\n\n    if (result === false) {\n      // Limpiar datos temporales\n      verificationCodes.delete(userEmail.toLowerCase());\n\n      // Generar token JWT\n      const token = createToken(name, lastName, userEmail, roll);\n\n      console.log(\n        '[src/controllers/authController.ts:500] Usuario registrado exitosamente:',\n        userEmail\n      );\n\n      return res.status(201).json({\n        success: true,\n        message: roll === 'musico' \n          ? 'Músico registrado exitosamente. Su perfil será completado por un administrador.'\n          : 'Creador de eventos registrado exitosamente.',\n        data: {\n          userEmail,\n          name,\n          lastName,\n          roll,\n          status: roll === 'musico' ? 'pending_approval' : 'active',\n          token,\n        },\n      });\n    } else {\n      return res.status(400).json({\n        success: false,\n        message: 'Error al registrar el usuario',\n        error: result,\n      });\n    }\n  } catch (error) {\n    console.error(\n      '[src/controllers/authController.ts:520] Error en verifyAndCompleteRegistrationController:',\n      error\n    );\n    return res.status(500).json({\n      success: false,\n      message: 'Error interno del servidor',\n      error: error instanceof Error ? error.message : 'Error desconocido',\n    });\n  }\n};\n\nexport const deleteUserByEmailController = async (\n  req: Request,\n  res: Response\n) => {\n  try {\n    const { userEmail } = req.body;\n    console.log(\n      '[src/controllers/authController.ts:270] [DELETE] userEmail recibido:',\n      userEmail\n    ); // LOG de depuración\n    if (!userEmail) {\n      res.status(400).json({ message: 'Falta el email' });\n      return;\n    }\n    const result = await deleteUserByEmailModel(userEmail);\n    console.log(\n      '[src/controllers/authController.ts:276] Resultado de deleteUserByEmailModel:',\n      result\n    );\n    console.log(\n      '[src/controllers/authController.ts:277] [DELETE] Resultado de deleteUserByEmailModel:',\n      result\n    ); // LOG de depuración\n    if (result === false) {\n      res.json({ message: 'Usuario eliminado correctamente' });\n    } else if (result === 'Falta el email') {\n      res.status(400).json({ message: 'Falta el email' });\n    } else if (result === 'not_found') {\n      res\n        .status(404)\n        .json({ message: 'El usuario no existe o ya fue eliminado' });\n    } else {\n      res.status(500).json({ message: result });\n    }\n  } catch (error) {\n    console.log(\n      '[src/controllers/authController.ts:288] Error en deleteUserByEmailController'\n    );\n    console.error(\n      '[src/controllers/authController.ts:289] [DELETE] Error al eliminar usuario:',\n      error\n    ); // LOG de error\n    res.status(500).json({\n      message: 'Error al eliminar usuario',\n      error: (error as Error).message,\n    });\n  }\n};\n\n/**\n * @swagger\n * /auth/forgot-password:\n *   post:\n *     summary: Solicitar recuperación de contraseña (solo superadmin)\n *     tags: [Auth]\n *     requestBody:\n *       required: true\n *       content:\n *         application/json:\n *           schema:\n *             type: object\n *             properties:\n *               userEmail:\n *                 type: string\n *     responses:\n *       200:\n *         description: Código de verificación enviado\n *       404:\n *         description: Usuario no encontrado\n *       403:\n *         description: Solo superadmin puede recuperar contraseña\n *\n * /auth/verify-code:\n *   post:\n *     summary: Verificar código de recuperación\n *     tags: [Auth]\n *     requestBody:\n *       required: true\n *       content:\n *         application/json:\n *           schema:\n *             type: object\n *             properties:\n *               userEmail:\n *                 type: string\n *               code:\n *                 type: string\n *     responses:\n *       200:\n *         description: Código verificado correctamente\n *       400:\n *         description: Código inválido o expirado\n *\n * /auth/reset-password:\n *   post:\n *     summary: Restablecer contraseña\n *     tags: [Auth]\n *     requestBody:\n *       required: true\n *       content:\n *         application/json:\n *           schema:\n *             type: object\n *             properties:\n *               userEmail:\n *                 type: string\n *               code:\n *                 type: string\n *               newPassword:\n *                 type: string\n *     responses:\n *       200:\n *         description: Contraseña actualizada correctamente\n *       400:\n *         description: Código inválido o contraseña débil\n */\n\n// Almacén temporal para códigos de verificación (en producción usar Redis)\nconst verificationCodes = new Map<\n  string,\n  { \n    code: string; \n    expiresAt: number;\n    userData?: {\n      name: string;\n      lastName: string;\n      userEmail: string;\n      userPassword: string;\n      roll: string;\n      verificationCode: string;\n      expiresAt: number;\n    };\n  }\n>();\n\n// Función para generar código de verificación\nfunction generateVerificationCode(): string {\n  return Math.floor(100000 + Math.random() * 900000).toString();\n}\n\n// Función para limpiar códigos expirados\nfunction cleanupExpiredCodes() {\n  const now = Date.now();\n  for (const [email, data] of verificationCodes.entries()) {\n    if (data.expiresAt < now) {\n      verificationCodes.delete(email);\n    }\n  }\n}\n\n// Ejecutar limpieza cada 5 minutos solo en producción\nif (process.env.NODE_ENV === 'production') {\n  setInterval(cleanupExpiredCodes, 5 * 60 * 1000);\n}\n\n// Solicitar recuperación de contraseña (solo superadmin)\nexport const forgotPasswordController = async (req: Request, res: Response) => {\n  try {\n    const { userEmail } = req.body;\n\n    if (!userEmail) {\n      res.status(400).json({ msg: 'Email es requerido' });\n      return;\n    }\n\n    if (!validarEmail(userEmail)) {\n      res.status(400).json({ msg: 'Email inválido' });\n      return;\n    }\n\n    // Buscar usuario\n    const user = await getUserByEmailModel(userEmail);\n    if (!user) {\n      res.status(404).json({ msg: 'Usuario no encontrado' });\n      return;\n    }\n\n    // Verificar que sea superadmin\n    if (user.roll !== 'superadmin') {\n      res\n        .status(403)\n        .json({ msg: 'Solo superadmin puede recuperar contraseña' });\n      return;\n    }\n\n    // Generar código de verificación\n    const verificationCode = generateVerificationCode();\n    const expiresAt = Date.now() + 10 * 60 * 1000; // 10 minutos\n\n    // Guardar código temporalmente\n    verificationCodes.set(userEmail.toLowerCase(), {\n      code: verificationCode,\n      expiresAt,\n    });\n\n    // Enviar email con código\n    const html = `<!DOCTYPE html>\n    <html lang=\"es\">\n    <head>\n      <meta charset=\"UTF-8\" />\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n      <title>Recuperar Contraseña - MusikOn</title>\n    </head>\n    <body style=\"margin: 0; padding: 0; background-color: #f4f4f4; font-family: 'Segoe UI', sans-serif;\">\n      <table align=\"center\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color: #f4f4f4; padding: 20px;\">\n        <tr>\n          <td align=\"center\">\n            <table width=\"600\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color: #004aad; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n              <!-- Logo -->\n              <tr>\n                <td style=\"padding: 30px 0; text-align: center; background-color: #ffffff;\">\n                  <img src=\"https://lh3.googleusercontent.com/a/ACg8ocLSs4B7UmP4bKLb26G-puyYjCURVh0Qnf9yHD_zxbCfRJTd3DFOovBly95OzJTWk34hnBf1RhigsdCnM0Wwg3TKCgsJ3rs=s288-c-no\" alt=\"MusikOn Logo\" width=\"120\" style=\"border-radius: 50%;\" />\n                </td>\n              </tr>\n\n              <!-- Título -->\n              <tr>\n                <td style=\"padding: 30px; text-align: center;\">\n                  <h2 style=\"margin: 0; font-size: 26px; color: #fff;\">Recuperar Contraseña</h2>\n                  <p style=\"font-size: 16px; color: hsl(246, 100%, 92%);\">Hola ${user.name}, has solicitado restablecer tu contraseña.</p>\n                </td>\n              </tr>\n\n              <!-- Código de Verificación -->\n              <tr>\n                <td style=\"text-align: center; padding: 20px;\">\n                  <h1 style=\"display: inline-block; padding: 15px 30px; background-color: #004aad; color: #fff; text-decoration: none; font-weight: bold; border-radius: 8px; font-size: 50px;\">\n                    ${verificationCode}\n                  </h1>\n                </td>\n              </tr>\n\n              <!-- Instrucciones -->\n              <tr>\n                <td style=\"padding: 20px 40px; text-align: center;\">\n                  <p style=\"font-size: 16px; color: #fff; margin-bottom: 10px;\">\n                    <strong>Instrucciones:</strong>\n                  </p>\n                  <p style=\"font-size: 14px; color: #b6c9ff; margin: 5px 0;\">\n                    1. Copia el código de 6 dígitos de arriba\n                  </p>\n                  <p style=\"font-size: 14px; color: #b6c9ff; margin: 5px 0;\">\n                    2. Ve a la página de recuperación de contraseña\n                  </p>\n                  <p style=\"font-size: 14px; color: #b6c9ff; margin: 5px 0;\">\n                    3. Ingresa el código y tu nueva contraseña\n                  </p>\n                  <p style=\"font-size: 14px; color: #b6c9ff; margin: 5px 0;\">\n                    4. El código expira en 10 minutos\n                  </p>\n                </td>\n              </tr>\n\n              <!-- Mensaje de seguridad -->\n              <tr>\n                <td style=\"padding: 20px 40px; text-align: center; font-size: 14px; color: #b6c9ff;\">\n                  <p style=\"margin: 0;\">\n                    <strong>⚠️ Importante:</strong> Si no solicitaste este cambio, puedes ignorar este mensaje. \n                    Tu contraseña actual permanecerá sin cambios.\n                  </p>\n                </td>\n              </tr>\n\n              <!-- Footer -->\n              <tr>\n                <td style=\"text-align: center; padding: 30px; background-color: #f0f0f0; font-size: 12px; color: #0041f3;\">\n                  &copy; 2025 MusikOn. Todos los derechos reservados.\n                </td>\n              </tr>\n            </table>\n          </td>\n        </tr>\n      </table>\n    </body>\n    </html>`;\n\n    try {\n      await sendEmail(userEmail, 'Recuperar Contraseña - MusikOn', html);\n\n      res.status(200).json({\n        msg: 'Código de verificación enviado al email',\n        userEmail: userEmail,\n      });\n    } catch (emailError) {\n      console.error('Error al enviar email:', emailError);\n      res.status(500).json({ msg: 'Error al enviar email de verificación' });\n    }\n  } catch (error) {\n    console.error('Error en forgotPasswordController:', error);\n    res.status(500).json({ msg: 'Error interno del servidor' });\n  }\n};\n\n// Verificar código de recuperación\nexport const verifyCodeController = async (req: Request, res: Response) => {\n  try {\n    const { userEmail, code } = req.body;\n\n    if (!userEmail || !code) {\n      res.status(400).json({ msg: 'Email y código son requeridos' });\n      return;\n    }\n\n    if (!validarEmail(userEmail)) {\n      res.status(400).json({ msg: 'Email inválido' });\n      return;\n    }\n\n    // Buscar usuario\n    const user = await getUserByEmailModel(userEmail);\n    if (!user) {\n      res.status(404).json({ msg: 'Usuario no encontrado' });\n      return;\n    }\n\n    // Verificar que sea superadmin\n    if (user.roll !== 'superadmin') {\n      res\n        .status(403)\n        .json({ msg: 'Solo superadmin puede recuperar contraseña' });\n      return;\n    }\n\n    // Verificar código\n    const storedData = verificationCodes.get(userEmail.toLowerCase());\n    if (!storedData) {\n      res.status(400).json({ msg: 'Código no encontrado o expirado' });\n      return;\n    }\n\n    if (storedData.expiresAt < Date.now()) {\n      verificationCodes.delete(userEmail.toLowerCase());\n      res.status(400).json({ msg: 'Código expirado' });\n      return;\n    }\n\n    if (storedData.code !== code) {\n      res.status(400).json({ msg: 'Código inválido' });\n      return;\n    }\n\n    res.status(200).json({\n      msg: 'Código verificado correctamente',\n      userEmail: userEmail,\n    });\n  } catch (error) {\n    console.error('Error en verifyCodeController:', error);\n    res.status(500).json({ msg: 'Error interno del servidor' });\n  }\n};\n\n// Restablecer contraseña\nexport const resetPasswordController = async (req: Request, res: Response) => {\n  try {\n    const { userEmail, code, newPassword } = req.body;\n\n    if (!userEmail || !code || !newPassword) {\n      res\n        .status(400)\n        .json({ msg: 'Email, código y nueva contraseña son requeridos' });\n      return;\n    }\n\n    if (!validarEmail(userEmail)) {\n      res.status(400).json({ msg: 'Email inválido' });\n      return;\n    }\n\n    if (!validarPassword(newPassword)) {\n      res.status(400).json({\n        msg: 'La contraseña no cumple con los requisitos, debe de contener Mayúsculas, Minúsculas, Números y Carácteres especiales',\n      });\n      return;\n    }\n\n    // Buscar usuario\n    const user = await getUserByEmailModel(userEmail);\n    if (!user) {\n      res.status(404).json({ msg: 'Usuario no encontrado' });\n      return;\n    }\n\n    // Verificar que sea superadmin\n    if (user.roll !== 'superadmin') {\n      res\n        .status(403)\n        .json({ msg: 'Solo superadmin puede recuperar contraseña' });\n      return;\n    }\n\n    // Verificar código\n    const storedData = verificationCodes.get(userEmail.toLowerCase());\n    if (!storedData) {\n      res.status(400).json({ msg: 'Código no encontrado o expirado' });\n      return;\n    }\n\n    if (storedData.expiresAt < Date.now()) {\n      verificationCodes.delete(userEmail.toLowerCase());\n      res.status(400).json({ msg: 'Código expirado' });\n      return;\n    }\n\n    if (storedData.code !== code) {\n      res.status(400).json({ msg: 'Código inválido' });\n      return;\n    }\n\n    // Hashear nueva contraseña\n    const hashedPassword = await bcrypt.hash(newPassword, 10);\n\n    // Actualizar contraseña en la base de datos\n    const updateData = {\n      userPassword: hashedPassword,\n      update_at: new Date().toString(),\n    };\n\n    const updateResult = await updateUserByEmailModel(userEmail, updateData);\n    if (updateResult) {\n      res.status(400).json({ msg: updateResult });\n      return;\n    }\n\n    // Eliminar código usado\n    verificationCodes.delete(userEmail.toLowerCase());\n\n    res.status(200).json({\n      msg: 'Contraseña actualizada correctamente',\n      userEmail: userEmail,\n    });\n  } catch (error) {\n    console.error('Error en resetPasswordController:', error);\n    res.status(500).json({ msg: 'Error interno del servidor' });\n  }\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}