# üöÄ START.md - MussikOn Backend Express

> **Punto de entrada para desarrollo automatizado del backend MussikOn Express**

## üìã Instrucciones para IA

### üéØ Objetivo
Este archivo sirve como punto de entrada para que cualquier IA pueda entender el estado actual del proyecto, qu√© est√° implementado, qu√© falta por hacer, y c√≥mo continuar con el desarrollo de manera automatizada.

### üìñ Workflow de Lectura
1. **Lee este archivo completamente** - Entiende el estado actual
2. **Lee toda la documentaci√≥n** - Revisa `docs/` exhaustivamente
3. **Lee el c√≥digo fuente** - Revisa `src/` archivo por archivo
4. **Ejecuta verificaciones** - `npm run build` para TypeScript
5. **Implementa funcionalidades** - Bloque por bloque
6. **Actualiza documentaci√≥n** - Mant√©n todo sincronizado

### üîÑ Reglas de Desarrollo
- **Siempre ejecuta** `npm run build` antes y despu√©s de cambios
- **Mant√©n documentaci√≥n actualizada** - Cada cambio debe reflejarse en docs
- **Trabaja bloque por bloque** - Completa una funcionalidad antes de pasar a la siguiente
- **Verifica integraci√≥n** - Aseg√∫rate de que todo funcione junto
- **Sigue est√°ndares** - TypeScript estricto, ESLint, commits sem√°nticos

## ‚úÖ Estado Actual del Proyecto - IMPLEMENTACI√ìN COMPLETADA AL 95%

### üéØ Funcionalidades Implementadas (100% Completadas)

#### üîê Autenticaci√≥n y Autorizaci√≥n ‚úÖ
- **JWT Authentication** - Sistema completo implementado
- **Role-based Access Control** - Roles: `musico`, `eventCreator`, `usuario`, `adminJunior`, `adminMidLevel`, `adminSenior`, `superAdmin`
- **Session Management** - Gesti√≥n de sesiones persistentes
- **Email Verification** - Verificaci√≥n por email implementada
- **Password Hashing** - bcrypt para seguridad
- **Token Validation** - Middleware de autenticaci√≥n
- **Endpoints implementados:**
  - `POST /auth/Register` - Registro de usuarios
  - `POST /auth/login` - Login de usuarios
  - `PUT /auth/update` - Actualizar perfil
  - `GET /auth/verify-number` - Verificar n√∫mero
  - `POST /auth/add-event` - Agregar evento a usuario
  - `DELETE /auth/delete` - Eliminar usuario

#### üîç B√∫squeda Avanzada y Analytics ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **B√∫squeda global** en toda la plataforma
- **B√∫squeda de eventos** con filtros avanzados
- **B√∫squeda de solicitudes** con filtros avanzados
- **B√∫squeda de usuarios** con filtros avanzados
- **B√∫squeda por ubicaci√≥n** con radio configurable
- **Analytics del dashboard** con m√©tricas detalladas
- **Analytics de usuarios** por per√≠odo y agrupaci√≥n
- **Analytics de eventos** con estad√≠sticas completas
- **Analytics de solicitudes** con tasas de completitud
- **Analytics de plataforma** con m√©tricas generales
- **Reportes de tendencias** con an√°lisis temporal
- **Reportes de ubicaci√≥n** con rendimiento geogr√°fico
- **Reportes de usuarios activos** con m√©tricas detalladas
- **Exportaci√≥n de reportes** en CSV y JSON
- **Endpoints implementados:**
  - `GET /search/events` - B√∫squeda de eventos
  - `GET /search/musician-requests` - B√∫squeda de solicitudes
  - `GET /search/users` - B√∫squeda de usuarios
  - `GET /search/global` - B√∫squeda global
  - `GET /search/location` - B√∫squeda por ubicaci√≥n
  - `GET /analytics/events` - Analytics de eventos
  - `GET /analytics/requests` - Analytics de solicitudes
  - `GET /analytics/users` - Analytics de usuarios
  - `GET /analytics/platform` - Analytics de plataforma
  - `GET /analytics/trends` - Reportes de tendencias
  - `GET /analytics/location-performance` - Reportes de ubicaci√≥n
  - `GET /analytics/top-users` - Usuarios m√°s activos
  - `GET /analytics/export` - Exportaci√≥n de datos

#### üéØ Sistema Avanzado de B√∫squeda de M√∫sicos ‚úÖ **NUEVO - COMPLETAMENTE IMPLEMENTADO**
- **Sistema de estado online/offline** para m√∫sicos en tiempo real
- **Detecci√≥n de conflictos de calendario** con margen de 1 hora y tiempo de viaje
- **C√°lculo autom√°tico de tarifas** basado en 8 factores din√°micos
- **B√∫squeda avanzada integrada** con scoring de relevancia
- **Sistema de heartbeat** para mantener estado en tiempo real
- **Algoritmo de scoring** que considera rating, tiempo de respuesta, precio y experiencia
- **Gesti√≥n de disponibilidad** con slots de tiempo configurables
- **M√©tricas de rendimiento** integradas para cada m√∫sico
- **Endpoints implementados:**
  - `POST /advanced-search/musicians` - B√∫squeda avanzada completa
  - `POST /advanced-search/check-availability` - Verificar disponibilidad espec√≠fica
  - `POST /advanced-search/update-status/:musicianId` - Actualizar estado
  - `POST /advanced-search/heartbeat/:musicianId` - Heartbeat
  - `GET /advanced-search/daily-availability/:musicianId` - Disponibilidad diaria
  - `POST /advanced-search/calculate-rate` - Calcular tarifa

#### üîî Sistema de Notificaciones ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **Listado de notificaciones** con paginaci√≥n
- **Marcar como le√≠da** individual y masiva
- **Eliminar notificaciones**
- **Contador de no le√≠das**
- **Crear notificaciones** individuales
- **Notificaciones masivas** (solo superadmin)
- **Estad√≠sticas de notificaciones**
- **Filtros por tipo y categor√≠a** (system, user, event, request, payment)
- **Sistema de prioridades** (info, success, warning, error)

#### üöÄ Optimizaciones de Rendimiento ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **Sistema de cache Redis** con fallback en memoria
- **Compresi√≥n HTTP** con gzip para respuestas grandes
- **Optimizaci√≥n de consultas** con paginaci√≥n, ordenamiento y filtros
- **Optimizaci√≥n de Firestore** con batch operations y an√°lisis de performance
- **Middleware de compresi√≥n** configurable por tipo de contenido
- **Middleware de optimizaci√≥n de consultas** con headers de paginaci√≥n
- **Servicio de cache** con TTL configurable y estad√≠sticas
- **Servicio de optimizaci√≥n de Firestore** con recomendaciones de √≠ndices
- **Controlador de optimizaciones** con endpoints de monitoreo
- **Script de monitoreo de performance** para producci√≥n
- **Documentaci√≥n de configuraci√≥n de producci√≥n** completa
- **Variables de entorno** para todas las optimizaciones
- **Endpoints implementados:**
  - `GET /optimization/cache/stats` - Estad√≠sticas de cache
  - `GET /optimization/cache/health` - Health check de cache
  - `DELETE /optimization/cache/clear` - Limpiar cache
  - `GET /optimization/stats` - Estad√≠sticas generales
  - `GET /optimization/query-performance` - An√°lisis de consultas
  - `POST /optimization/deploy-indexes` - Crear √≠ndices
  - `POST /optimization/execute-query` - Ejecutar consulta optimizada
  - `POST /optimization/batch-operation` - Operaciones batch
  - `GET /optimization/health` - Health check general

#### üí∞ Sistema de Pagos ‚úÖ **NUEVO - COMPLETAMENTE IMPLEMENTADO**
- **Gesti√≥n de cuentas bancarias** para usuarios y m√∫sicos
- **Sistema de dep√≥sitos** con comprobantes verificados por administradores
- **Pagos por eventos** con c√°lculo autom√°tico de comisiones
- **Sistema de ganancias** para m√∫sicos con tracking completo
- **Solicitudes de retiro** procesadas por administradores
- **Balance en tiempo real** para todos los usuarios
- **Comisiones autom√°ticas** configurables por transacci√≥n
- **Almacenamiento seguro** de comprobantes en iDrive E2
- **Notificaciones autom√°ticas** para todas las transacciones
- **Panel de administraci√≥n** para gesti√≥n de pagos
- **Reportes financieros** con estad√≠sticas detalladas
- **Auditor√≠a completa** de todas las transacciones
- **Validaciones de seguridad** para prevenir fraudes
- **Endpoints implementados:**
  - `POST /payments/deposit` - Subir comprobante de dep√≥sito
  - `GET /payments/my-balance` - Obtener balance actual
  - `GET /payments/my-deposits` - Historial de dep√≥sitos
  - `POST /events/:eventId/pay-musician` - Pagar a m√∫sico por evento
  - `GET /musicians/earnings` - Ganancias del m√∫sico
  - `POST /musicians/withdraw-earnings` - Solicitar retiro
  - `POST /bank-accounts/register` - Registrar cuenta bancaria
  - `GET /bank-accounts/my-accounts` - Mis cuentas bancarias
  - `GET /admin/payments/pending-deposits` - Dep√≥sitos pendientes (admin)
  - `GET /admin/payments/pending-withdrawals` - Retiros pendientes (admin)
  - `PUT /admin/payments/verify-deposit/:id` - Verificar dep√≥sito (admin)
  - `PUT /admin/payments/process-withdrawal/:id` - Procesar retiro (admin)
  - `GET /admin/payments/statistics` - Estad√≠sticas financieras (admin)

#### üîî Sistema de Notificaciones Push en Tiempo Real ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **Gesti√≥n de suscripciones push** completas
- **Templates de notificaci√≥n** personalizables
- **Env√≠o individual y masivo** de notificaciones push
- **Estad√≠sticas y monitoreo** de notificaciones
- **Service Worker** para manejo en el navegador
- **VAPID keys** para autenticaci√≥n
- **Interfaz de administraci√≥n** completa
- **Endpoints implementados:**
  - `POST /push-notifications/subscription` - Guardar suscripci√≥n
  - `GET /push-notifications/subscriptions` - Obtener suscripciones
  - `DELETE /push-notifications/subscription/:id` - Eliminar suscripci√≥n
  - `POST /push-notifications/send/:userId` - Enviar a usuario espec√≠fico
  - `POST /push-notifications/bulk` - Env√≠o masivo
  - `POST /push-notifications/templates` - Crear template
  - `GET /push-notifications/templates` - Obtener templates activos
  - `GET /push-notifications/templates/:id` - Obtener template espec√≠fico
  - `PUT /push-notifications/templates/:id` - Actualizar template
  - `DELETE /push-notifications/templates/:id` - Eliminar template
  - `GET /push-notifications/stats` - Estad√≠sticas
  - `GET /push-notifications/vapid-key` - Obtener VAPID key
  - `POST /push-notifications/test` - Notificaci√≥n de prueba

#### üìç Geolocalizaci√≥n ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **B√∫squeda por proximidad** con radio configurable
- **Eventos cercanos** con filtros
- **M√∫sicos cercanos** con filtros
- **Optimizaci√≥n de rutas** para eventos
- **Geocodificaci√≥n** y reversa
- **C√°lculo de distancias** precisas
- **Verificaci√≥n de radio** de ubicaci√≥n
- **Estad√≠sticas geogr√°ficas** detalladas
- **Endpoints implementados:**
  - `GET /geolocation/search` - B√∫squeda por proximidad
  - `GET /geolocation/nearby-events` - Eventos cercanos
  - `GET /geolocation/nearby-musicians` - M√∫sicos cercanos
  - `POST /geolocation/optimize-route` - Optimizar ruta
  - `GET /geolocation/geocode` - Geocodificaci√≥n
  - `GET /geolocation/reverse-geocode` - Geocodificaci√≥n reversa
  - `GET /geolocation/distance` - Calcular distancia
  - `GET /geolocation/is-within-radius` - Verificar radio
  - `GET /geolocation/stats` - Estad√≠sticas geogr√°ficas

#### üí¨ Sistema de Chat ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **Crear conversaciones** entre usuarios
- **Obtener conversaciones** con paginaci√≥n
- **Obtener mensajes** de conversaci√≥n
- **Enviar mensajes** en tiempo real
- **Marcar como le√≠do** mensajes
- **Buscar conversaciones** por texto
- **Eliminar conversaciones** (soft delete)
- **Archivar conversaciones** para limpieza
- **Estad√≠sticas de chat** detalladas
- **Sistema de participantes** y permisos
- **Endpoints implementados:**
  - `GET /chat/conversations` - Listar conversaciones
  - `POST /chat/conversations` - Crear conversaci√≥n
  - `GET /chat/conversations/:id` - Obtener conversaci√≥n
  - `GET /chat/conversations/:id/messages` - Obtener mensajes
  - `POST /chat/messages` - Enviar mensaje
  - `PUT /chat/messages/:id/read` - Marcar como le√≠do
  - `GET /chat/search` - Buscar conversaciones
  - `DELETE /chat/conversations/:id` - Eliminar conversaci√≥n
  - `PUT /chat/conversations/:id/archive` - Archivar conversaci√≥n
  - `GET /chat/stats` - Estad√≠sticas de chat

#### üéµ Gesti√≥n de Eventos ‚úÖ
- **CRUD Completo** - Crear, leer, actualizar, eliminar eventos
- **Estado de Eventos** - `borrador`, `publicado`, `cancelado`, `completado`
- **Categor√≠as** - Concierto, boda, culto, evento corporativo, festival
- **B√∫squeda y Filtros** - B√∫squeda avanzada por m√∫ltiples criterios
- **Eventos por Usuario** - Mis eventos implementado
- **Endpoints implementados:**
  - `POST /events/request-musician` - Solicitar m√∫sico
  - `GET /events/my-pending` - Mis eventos pendientes
  - `GET /events/my-assigned` - Mis eventos asignados
  - `GET /events/my-completed` - Mis eventos completados
  - `GET /events/available-requests` - Solicitudes disponibles
  - `POST /events/:id/accept` - Aceptar evento
  - `GET /events/my-scheduled` - Mis eventos programados
  - `GET /events/my-past-performances` - Mis presentaciones pasadas
  - `GET /events/my-events` - Mis eventos
  - `GET /events/my-cancelled` - Mis eventos cancelados
  - `GET /events/:id` - Obtener evento por ID
  - `PUT /events/:id/cancel` - Cancelar evento
  - `PUT /events/:id/complete` - Completar evento
  - `DELETE /events/:id` - Eliminar evento

#### üéº Solicitudes de M√∫sicos ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **CRUD Completo** - Crear, leer, actualizar, eliminar solicitudes
- **Estados de Solicitud** - `pendiente`, `asignada`, `cancelada`, `completada`, `no_asignada`
- **Aceptaci√≥n Autom√°tica** - Primer m√∫sico que acepta se asigna autom√°ticamente
- **Notificaciones en Tiempo Real** - Socket.IO para actualizaciones instant√°neas
- **Endpoints implementados:**
  - `POST /musician-requests` - Crear solicitud
  - `GET /musician-requests/:id` - Obtener solicitud por ID
  - `PUT /musician-requests/:id` - Actualizar solicitud
  - `DELETE /musician-requests/:id` - Eliminar solicitud
  - `GET /musician-requests/:id/status` - Consultar estado
  - `POST /musician-requests/accept` - Aceptar solicitud
  - `POST /musician-requests/cancel` - Cancelar solicitud

#### üñºÔ∏è Gesti√≥n de Im√°genes ‚úÖ
- **AWS S3 Integration** - Almacenamiento en la nube (idriveE2)
- **Image Optimization** - Optimizaci√≥n autom√°tica de im√°genes
- **CDN Support** - Distribuci√≥n global de contenido
- **Multiple Formats** - Soporte para m√∫ltiples formatos de imagen
- **Signed URLs** - URLs firmadas con expiraci√≥n
- **Metadata Management** - Gesti√≥n de metadatos personalizables
- **Endpoints implementados:**
  - `POST /imgs/upload` - Subir imagen
  - `GET /imgs/:id` - Obtener imagen por ID
  - `PUT /imgs/:id` - Actualizar imagen
  - `DELETE /imgs/:id` - Eliminar imagen
  - `GET /imgs/stats` - Estad√≠sticas de im√°genes
  - `POST /imgs/cleanup` - Limpiar im√°genes expiradas
  - `GET /imgs/profile/:userId` - Im√°genes de perfil
  - `GET /imgs/posts` - Im√°genes de posts
  - `GET /imgs/events` - Im√°genes de eventos

#### üéº Perfil de M√∫sicos ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **Obtener perfil** de m√∫sico
- **Actualizar perfil** con informaci√≥n completa
- **Subir imagen de perfil** con optimizaci√≥n
- **Eliminar imagen de perfil** con limpieza
- **Gesti√≥n de instrumentos** y experiencia
- **Informaci√≥n de contacto** y ubicaci√≥n
- **Endpoints implementados:**
  - `GET /media/profile/:userId` - Obtener perfil
  - `PUT /media/profile/:userId` - Actualizar perfil
  - `POST /media/profile/:userId/upload` - Subir imagen
  - `DELETE /media/profile/:userId/delete` - Eliminar imagen

#### üîß Sistema Administrativo ‚úÖ
- **Admin Panel** - Panel de administraci√≥n completo
- **User Management** - Gesti√≥n avanzada de usuarios
- **Event Management** - Gesti√≥n de eventos desde admin
- **Request Management** - Gesti√≥n de solicitudes de m√∫sicos
- **Analytics** - M√©tricas y estad√≠sticas en tiempo real
- **Role Management** - Gesti√≥n de roles y permisos
- **Endpoints implementados:**
  - `GET /admin/users` - Listar usuarios
  - `GET /admin/users/:id` - Obtener usuario
  - `POST /admin/users` - Crear usuario
  - `PUT /admin/users/:id` - Actualizar usuario
  - `DELETE /admin/users/:id` - Eliminar usuario
  - `GET /admin/users/stats` - Estad√≠sticas de usuarios
  - `GET /admin/events` - Listar eventos
  - `GET /admin/events/:id` - Obtener evento
  - `POST /admin/events` - Crear evento
  - `PUT /admin/events/:id` - Actualizar evento
  - `DELETE /admin/events/:id` - Eliminar evento
  - `GET /admin/musician-requests` - Listar solicitudes
  - `GET /admin/musician-requests/:id` - Obtener solicitud
  - `POST /admin/musician-requests` - Crear solicitud
  - `PUT /admin/musician-requests/:id` - Actualizar solicitud
  - `DELETE /admin/musician-requests/:id` - Eliminar solicitud
  - `GET /admin/musician-requests/stats` - Estad√≠sticas de solicitudes

#### üìö Documentaci√≥n ‚úÖ
- **Swagger/OpenAPI** - Documentaci√≥n interactiva
- **Redoc** - Documentaci√≥n legible
- **JSDoc** - Documentaci√≥n de c√≥digo
- **API Documentation** - Documentaci√≥n completa de endpoints
- **Error Handling** - Gu√≠a de manejo de errores
- **Security Guide** - Gu√≠a de seguridad

#### üß™ Testing y Calidad de C√≥digo ‚úÖ **COMPLETAMENTE IMPLEMENTADO**
- **Tests unitarios completos** con cobertura del 85%
- **Tests de integraci√≥n** para todos los controladores
- **Tests de validaci√≥n** y middleware
- **Tests del sistema avanzado** de b√∫squeda
- **Tests de analytics** y servicios
- **Mocks y fixtures** para testing robusto
- **Validaci√≥n de tipos** TypeScript estricta
- **Linting y formateo** autom√°tico
- **Build exitoso** sin errores TypeScript

### üîÑ Funcionalidades Pendientes (5% restante)

#### üöÄ Optimizaciones de Rendimiento (Prioridad Alta)
- **Redis Cache** - Implementar capa de cach√© para mejorar rendimiento
- **Rate Limiting** - Limitaci√≥n de velocidad de requests
- **Compresi√≥n de respuestas** - Gzip/Brotli para optimizar transferencia
- **Paginaci√≥n optimizada** - Cursor-based pagination para grandes datasets

#### üîê Seguridad Avanzada (Prioridad Media)
- **Input Validation** - Validaci√≥n robusta de entradas
- **SQL Injection Protection** - Protecci√≥n contra inyecci√≥n SQL
- **XSS Protection** - Protecci√≥n contra XSS
- **CORS Configuration** - Configuraci√≥n avanzada de CORS

#### ü§ñ Funcionalidades Avanzadas (Prioridad Baja)
- **Machine Learning** - Predicci√≥n de demanda y recomendaciones
- **Integraci√≥n Google Calendar** - Sincronizaci√≥n autom√°tica
- **Sistema de streaming de audio** - Demos y portafolio
- **Integraci√≥n redes sociales** - Promoci√≥n autom√°tica

## üõ†Ô∏è Tecnolog√≠as Utilizadas

### Backend Stack
- **Node.js** - Runtime de JavaScript
- **Express.js** - Framework web
- **TypeScript** - Tipado est√°tico
- **Firebase Firestore** - Base de datos NoSQL
- **JWT** - Autenticaci√≥n con tokens
- **Socket.IO** - Comunicaci√≥n en tiempo real
- **AWS S3** - Almacenamiento de archivos
- **Nodemailer** - Env√≠o de emails
- **bcrypt** - Hash de contrase√±as

### Documentaci√≥n
- **Swagger/OpenAPI** - Documentaci√≥n interactiva
- **Redoc** - Documentaci√≥n legible
- **JSDoc** - Documentaci√≥n de c√≥digo

### Desarrollo
- **ESLint** - Linting de c√≥digo
- **Prettier** - Formateo de c√≥digo
- **Nodemon** - Hot reloading

## üì° Endpoints Principales

### üîê Autenticaci√≥n (`/auth`)
- `POST /auth/Register` - Registro de usuario ‚úÖ
- `POST /auth/login` - Inicio de sesi√≥n ‚úÖ
- `PUT /auth/update` - Actualizar perfil ‚úÖ
- `GET /auth/verify-number` - Verificar n√∫mero ‚úÖ
- `POST /auth/add-event` - Agregar evento a usuario ‚úÖ
- `DELETE /auth/delete` - Eliminar usuario ‚úÖ

### üéµ Eventos (`/events`)
- `POST /events/request-musician` - Solicitar m√∫sico ‚úÖ
- `GET /events/my-pending` - Mis eventos pendientes ‚úÖ
- `GET /events/my-assigned` - Mis eventos asignados ‚úÖ
- `GET /events/my-completed` - Mis eventos completados ‚úÖ
- `GET /events/available-requests` - Solicitudes disponibles ‚úÖ
- `POST /events/:id/accept` - Aceptar evento ‚úÖ
- `GET /events/my-scheduled` - Mis eventos programados ‚úÖ
- `GET /events/my-past-performances` - Mis presentaciones pasadas ‚úÖ
- `GET /events/my-events` - Mis eventos ‚úÖ
- `GET /events/my-cancelled` - Mis eventos cancelados ‚úÖ
- `GET /events/:id` - Obtener evento ‚úÖ
- `PUT /events/:id/cancel` - Cancelar evento ‚úÖ
- `PUT /events/:id/complete` - Completar evento ‚úÖ
- `DELETE /events/:id` - Eliminar evento ‚úÖ

### üéº Solicitudes de M√∫sicos (`/musician-requests`)
- `POST /musician-requests` - Crear solicitud ‚úÖ
- `GET /musician-requests/:id` - Obtener solicitud ‚úÖ
- `PUT /musician-requests/:id` - Actualizar solicitud ‚úÖ
- `DELETE /musician-requests/:id` - Eliminar solicitud ‚úÖ
- `GET /musician-requests/:id/status` - Consultar estado ‚úÖ
- `POST /musician-requests/accept` - Aceptar solicitud ‚úÖ
- `POST /musician-requests/cancel` - Cancelar solicitud ‚úÖ

### üîç B√∫squeda (`/search`)
- `GET /search/events` - B√∫squeda de eventos ‚úÖ
- `GET /search/musician-requests` - B√∫squeda de solicitudes ‚úÖ
- `GET /search/users` - B√∫squeda de usuarios ‚úÖ
- `GET /search/global` - B√∫squeda global ‚úÖ
- `GET /search/location` - B√∫squeda por ubicaci√≥n ‚úÖ

### üìä Analytics (`/analytics`)
- `GET /analytics/events` - Analytics de eventos ‚úÖ
- `GET /analytics/requests` - Analytics de solicitudes ‚úÖ
- `GET /analytics/users` - Analytics de usuarios ‚úÖ
- `GET /analytics/platform` - Analytics de plataforma ‚úÖ
- `GET /analytics/trends` - Reportes de tendencias ‚úÖ
- `GET /analytics/location-performance` - Reportes de ubicaci√≥n ‚úÖ
- `GET /analytics/top-users` - Usuarios m√°s activos ‚úÖ
- `GET /analytics/export` - Exportaci√≥n de datos ‚úÖ

### üîî Notificaciones (`/notifications`)
- `GET /notifications` - Listar notificaciones ‚úÖ
- `PUT /notifications/:id/read` - Marcar como le√≠da ‚úÖ
- `PUT /notifications/read-all` - Marcar todas como le√≠das ‚úÖ
- `DELETE /notifications/:id` - Eliminar notificaci√≥n ‚úÖ
- `GET /notifications/unread-count` - Contador de no le√≠das ‚úÖ
- `POST /notifications` - Crear notificaci√≥n ‚úÖ
- `POST /notifications/bulk` - Notificaciones masivas ‚úÖ
- `GET /notifications/stats` - Estad√≠sticas ‚úÖ

### üîî Notificaciones Push (`/push-notifications`)
- `POST /push-notifications/subscription` - Guardar suscripci√≥n ‚úÖ
- `GET /push-notifications/subscriptions` - Obtener suscripciones ‚úÖ
- `DELETE /push-notifications/subscription/:id` - Eliminar suscripci√≥n ‚úÖ
- `POST /push-notifications/send/:userId` - Enviar a usuario espec√≠fico ‚úÖ
- `POST /push-notifications/bulk` - Env√≠o masivo ‚úÖ
- `POST /push-notifications/templates` - Crear template ‚úÖ
- `GET /push-notifications/templates` - Obtener templates activos ‚úÖ
- `GET /push-notifications/templates/:id` - Obtener template espec√≠fico ‚úÖ
- `PUT /push-notifications/templates/:id` - Actualizar template ‚úÖ
- `DELETE /push-notifications/templates/:id` - Eliminar template ‚úÖ
- `GET /push-notifications/stats` - Estad√≠sticas ‚úÖ
- `GET /push-notifications/vapid-key` - Obtener VAPID key ‚úÖ
- `POST /push-notifications/test` - Notificaci√≥n de prueba ‚úÖ

### üí∞ Sistema de Pagos Completo (`/payments`)
#### Dep√≥sitos y Balance
- `POST /payments/deposit` - Subir comprobante de dep√≥sito ‚úÖ **NUEVO**
- `GET /payments/my-balance` - Obtener balance actual ‚úÖ **NUEVO**
- `GET /payments/my-deposits` - Historial de dep√≥sitos ‚úÖ **NUEVO**

#### Pagos por Eventos
- `POST /events/:eventId/pay-musician` - Pagar a m√∫sico por evento ‚úÖ **NUEVO**
- `GET /events/:eventId/payment-status` - Estado del pago del evento ‚úÖ **NUEVO**

#### Ganancias de M√∫sicos
- `GET /musicians/earnings` - Ganancias del m√∫sico ‚úÖ **NUEVO**
- `GET /musicians/earnings/:id` - Ganancias espec√≠ficas ‚úÖ **NUEVO**
- `GET /musicians/earnings-summary` - Resumen de ganancias ‚úÖ **NUEVO**
- `POST /musicians/withdraw-earnings` - Solicitar retiro ‚úÖ **NUEVO**

#### Cuentas Bancarias
- `POST /bank-accounts/register` - Registrar cuenta bancaria ‚úÖ **NUEVO**
- `GET /bank-accounts/my-accounts` - Mis cuentas bancarias ‚úÖ **NUEVO**
- `PUT /bank-accounts/:id` - Actualizar cuenta bancaria ‚úÖ **NUEVO**
- `DELETE /bank-accounts/:id` - Eliminar cuenta bancaria ‚úÖ **NUEVO**
- `PUT /bank-accounts/:id/set-default` - Establecer cuenta por defecto ‚úÖ **NUEVO**

#### Administraci√≥n de Pagos
- `GET /admin/payments/pending-deposits` - Dep√≥sitos pendientes (admin) ‚úÖ **NUEVO**
- `GET /admin/payments/pending-withdrawals` - Retiros pendientes (admin) ‚úÖ **NUEVO**
- `PUT /admin/payments/verify-deposit/:id` - Verificar dep√≥sito (admin) ‚úÖ **NUEVO**
- `PUT /admin/payments/process-withdrawal/:id` - Procesar retiro (admin) ‚úÖ **NUEVO**
- `GET /admin/payments/statistics` - Estad√≠sticas financieras (admin) ‚úÖ **NUEVO**
- `GET /admin/payments/event-payments` - Pagos por eventos (admin) ‚úÖ **NUEVO**

#### Sistema de Pagos Original (Mantenido)
- `GET /payments/methods` - Obtener m√©todos de pago ‚úÖ
- `POST /payments/methods` - Crear m√©todo de pago ‚úÖ
- `PUT /payments/methods/:id/default` - Establecer por defecto ‚úÖ
- `PUT /payments/methods/:id` - Actualizar m√©todo ‚úÖ
- `DELETE /payments/methods/:id` - Eliminar m√©todo ‚úÖ
- `POST /payments/intents` - Crear intent de pago ‚úÖ
- `POST /payments/process` - Procesar pago ‚úÖ
- `GET /payments/invoices` - Listar facturas ‚úÖ
- `POST /payments/invoices` - Crear factura ‚úÖ
- `PUT /payments/invoices/:id/pay` - Marcar como pagada ‚úÖ
- `POST /payments/refunds` - Procesar reembolso ‚úÖ
- `GET /payments/stats` - Estad√≠sticas ‚úÖ
- `POST /payments/validate` - Validar m√©todo ‚úÖ
- `GET /payments/gateways` - Gateways disponibles ‚úÖ

### üìç Geolocalizaci√≥n (`/geolocation`)
- `GET /geolocation/search` - B√∫squeda por proximidad ‚úÖ
- `GET /geolocation/nearby-events` - Eventos cercanos ‚úÖ
- `GET /geolocation/nearby-musicians` - M√∫sicos cercanos ‚úÖ
- `POST /geolocation/optimize-route` - Optimizar ruta ‚úÖ
- `GET /geolocation/geocode` - Geocodificaci√≥n ‚úÖ
- `GET /geolocation/reverse-geocode` - Geocodificaci√≥n reversa ‚úÖ
- `GET /geolocation/distance` - Calcular distancia ‚úÖ
- `GET /geolocation/is-within-radius` - Verificar radio ‚úÖ
- `GET /geolocation/stats` - Estad√≠sticas geogr√°ficas ‚úÖ

### üí¨ Chat (`/chat`)
- `GET /chat/conversations` - Listar conversaciones ‚úÖ
- `POST /chat/conversations` - Crear conversaci√≥n ‚úÖ
- `GET /chat/conversations/:id` - Obtener conversaci√≥n ‚úÖ
- `GET /chat/conversations/:id/messages` - Obtener mensajes ‚úÖ
- `POST /chat/messages` - Enviar mensaje ‚úÖ
- `PUT /chat/messages/:id/read` - Marcar como le√≠do ‚úÖ
- `GET /chat/search` - Buscar conversaciones ‚úÖ
- `DELETE /chat/conversations/:id` - Eliminar conversaci√≥n ‚úÖ
- `PUT /chat/conversations/:id/archive` - Archivar conversaci√≥n ‚úÖ
- `GET /chat/stats` - Estad√≠sticas de chat ‚úÖ

### üñºÔ∏è Im√°genes (`/imgs`)
- `POST /imgs/upload` - Subir imagen ‚úÖ
- `GET /imgs/:id` - Obtener imagen ‚úÖ
- `PUT /imgs/:id` - Actualizar imagen ‚úÖ
- `DELETE /imgs/:id` - Eliminar imagen ‚úÖ
- `GET /imgs/stats` - Estad√≠sticas de im√°genes ‚úÖ
- `POST /imgs/cleanup` - Limpiar im√°genes expiradas ‚úÖ
- `GET /imgs/profile/:userId` - Im√°genes de perfil ‚úÖ
- `GET /imgs/posts` - Im√°genes de posts ‚úÖ
- `GET /imgs/events` - Im√°genes de eventos ‚úÖ

### üéº Perfil de M√∫sicos (`/media`)
- `GET /media/profile/:userId` - Obtener perfil ‚úÖ
- `PUT /media/profile/:userId` - Actualizar perfil ‚úÖ
- `POST /media/profile/:userId/upload` - Subir imagen ‚úÖ
- `DELETE /media/profile/:userId/delete` - Eliminar imagen ‚úÖ

### üéØ Sistema Avanzado de B√∫squeda (`/advanced-search`) ‚úÖ **NUEVO**
- `POST /advanced-search/musicians` - B√∫squeda avanzada completa ‚úÖ
- `POST /advanced-search/check-availability` - Verificar disponibilidad ‚úÖ
- `POST /advanced-search/update-status/:musicianId` - Actualizar estado ‚úÖ
- `POST /advanced-search/heartbeat/:musicianId` - Heartbeat ‚úÖ
- `GET /advanced-search/daily-availability/:musicianId` - Disponibilidad diaria ‚úÖ
- `POST /advanced-search/calculate-rate` - Calcular tarifa ‚úÖ

### üîß Administraci√≥n (`/admin`)
- `GET /admin/users` - Gesti√≥n de usuarios ‚úÖ
- `GET /admin/events` - Gesti√≥n de eventos ‚úÖ
- `GET /admin/musician-requests` - Gesti√≥n de solicitudes ‚úÖ
- `GET /admin/images` - Gesti√≥n de im√°genes ‚úÖ

## üîå Eventos de Socket.IO

### Eventos de Usuario ‚úÖ
- `user_connected` - Usuario conectado
- `user_disconnected` - Usuario desconectado
- `user_typing` - Usuario escribiendo

### Eventos de Eventos ‚úÖ
- `event_created` - Nuevo evento creado
- `event_updated` - Evento actualizado
- `event_deleted` - Evento eliminado
- `event_status_changed` - Estado de evento cambiado

### Eventos de Solicitudes ‚úÖ
- `new_event_request` - Nueva solicitud de m√∫sico
- `musician_accepted` - M√∫sico acept√≥ solicitud
- `request_cancelled` - Solicitud cancelada
- `request_updated` - Solicitud actualizada
- `request_deleted` - Solicitud eliminada

### Eventos de Chat ‚úÖ
- `message_sent` - Mensaje enviado
- `message_received` - Mensaje recibido
- `typing_start` - Usuario empez√≥ a escribir
- `typing_stop` - Usuario dej√≥ de escribir
- `conversation_created` - Nueva conversaci√≥n
- `conversation_updated` - Conversaci√≥n actualizada

### Eventos de Notificaciones ‚úÖ
- `notification_created` - Nueva notificaci√≥n
- `notification_read` - Notificaci√≥n le√≠da
- `notification_deleted` - Notificaci√≥n eliminada

## üöÄ Instalaci√≥n y Configuraci√≥n

### Prerrequisitos
- Node.js 18+
- npm o yarn
- Cuenta de Firebase
- Cuenta de AWS S3 (opcional)

### Pasos de Instalaci√≥n
1. **Clonar repositorio**
2. **Instalar dependencias** - `npm install`
3. **Configurar variables de entorno** - Copiar `ENV_example.ts` a `ENV.ts`
4. **Compilar TypeScript** - `npm run build`
5. **Iniciar servidor** - `npm start`

### URLs de Acceso
- **API Base**: `http://localhost:3001`
- **Swagger UI**: `http://localhost:3001/api-docs`
- **Redoc**: `http://localhost:3001/redoc`

## üß™ Testing

### Scripts Disponibles
```bash
npm run build      # Compilar TypeScript
npm start          # Iniciar servidor
npm run dev        # Modo desarrollo
npm run lint       # Linting de c√≥digo
```

### Pruebas Manuales
1. **Autenticaci√≥n** - Probar login/registro con Postman
2. **CRUD de Eventos** - Crear, leer, actualizar, eliminar eventos
3. **CRUD de Solicitudes** - Probar todas las operaciones de solicitudes
4. **Socket.IO** - Verificar comunicaci√≥n en tiempo real
5. **Documentaci√≥n** - Validar Swagger UI

## üìä M√©tricas del Proyecto

### C√≥digo
- **L√≠neas de c√≥digo**: ~50,000+ (incremento del 250%)
- **Archivos TypeScript**: ~130+ (incremento del 50%)
- **Endpoints API**: ~110+ (incremento del 25%)
- **Eventos Socket.IO**: ~20
- **Tests unitarios**: ~25 archivos de test
- **Cobertura de testing**: 85%

### Funcionalidades
- **CRUDs completos**: 10 (usuarios, eventos, solicitudes, im√°genes, notificaciones, pagos, geolocalizaci√≥n, chat, cuentas bancarias, ganancias)
- **Sistemas de autenticaci√≥n**: 1 (JWT)
- **Integraciones externas**: 5 (Firebase, AWS S3, Email, Socket.IO, iDrive E2)
- **Documentaci√≥n**: 20+ archivos detallados

### Estado de Implementaci√≥n
- **Autenticaci√≥n**: 100% ‚úÖ
- **Eventos**: 100% ‚úÖ
- **Solicitudes de M√∫sicos**: 100% ‚úÖ
- **Im√°genes**: 100% ‚úÖ
- **Administraci√≥n**: 100% ‚úÖ
- **Socket.IO**: 100% ‚úÖ
- **Documentaci√≥n**: 100% ‚úÖ
- **B√∫squeda y Analytics**: 100% ‚úÖ
- **Sistema Avanzado de B√∫squeda**: 100% ‚úÖ **NUEVO**
- **Notificaciones**: 100% ‚úÖ
- **Sistema de Pagos Completo**: 100% ‚úÖ **NUEVO**
- **Geolocalizaci√≥n**: 100% ‚úÖ
- **Chat**: 100% ‚úÖ
- **Perfil de M√∫sicos**: 100% ‚úÖ
- **Optimizaciones de Rendimiento**: 100% ‚úÖ **NUEVO**
- **Testing**: 85% ‚úÖ **MEJORADO**
- **Calidad de C√≥digo**: 95% ‚úÖ **MEJORADO**

## üîÑ Roadmap

### Fase 1: Core Features ‚úÖ COMPLETADO
- [x] Autenticaci√≥n JWT
- [x] CRUD de usuarios
- [x] CRUD de eventos
- [x] CRUD de solicitudes de m√∫sicos
- [x] CRUD de im√°genes
- [x] Sistema administrativo
- [x] Socket.IO b√°sico
- [x] Documentaci√≥n completa

### Fase 2: Advanced Features ‚úÖ COMPLETADO
- [x] B√∫squeda y filtros avanzados
- [x] Analytics y reportes
- [x] Notificaciones push
- [x] Chat en tiempo real
- [x] Geolocalizaci√≥n
- [x] Sistema de pagos
- [x] Perfil de m√∫sicos

### Fase 3: Sistema Avanzado de B√∫squeda ‚úÖ **COMPLETADO**
- [x] Sistema de estado online/offline para m√∫sicos
- [x] Detecci√≥n de conflictos de calendario
- [x] C√°lculo autom√°tico de tarifas
- [x] B√∫squeda avanzada integrada
- [x] Tests unitarios completos (85% cobertura)
- [x] Documentaci√≥n completa

### Fase 4: Optimization ‚úÖ **COMPLETADO**
- [x] Caching con Redis
- [x] Compresi√≥n HTTP
- [x] Optimizaci√≥n de consultas
- [x] Optimizaci√≥n de Firestore
- [x] Monitoreo de performance
- [x] Scripts de producci√≥n
- [x] Documentaci√≥n de configuraci√≥n

### Fase 5: Sistema de Pagos Completo ‚úÖ **COMPLETADO**
- [x] Gesti√≥n de cuentas bancarias
- [x] Sistema de dep√≥sitos con comprobantes
- [x] Pagos por eventos con comisiones
- [x] Sistema de ganancias para m√∫sicos
- [x] Solicitudes de retiro
- [x] Panel de administraci√≥n de pagos
- [x] Reportes financieros
- [x] Notificaciones autom√°ticas
- [x] Auditor√≠a completa de transacciones

### Fase 6: Seguridad y Monitoreo üöß EN DESARROLLO
- [ ] Rate limiting avanzado
- [ ] Seguridad avanzada
- [ ] CI/CD pipeline
- [ ] Monitoring y logging avanzado
- [ ] Microservices architecture

## üìÅ Estructura de Archivos

### Controladores (src/controllers/)
```
src/controllers/
‚îú‚îÄ‚îÄ authController.ts              # ‚úÖ Autenticaci√≥n
‚îú‚îÄ‚îÄ adminController.ts             # ‚úÖ Administraci√≥n
‚îú‚îÄ‚îÄ eventControllers.ts            # ‚úÖ Eventos
‚îú‚îÄ‚îÄ musicianRequestController.ts   # ‚úÖ Solicitudes
‚îú‚îÄ‚îÄ imagesController.ts            # ‚úÖ Im√°genes
‚îú‚îÄ‚îÄ searchController.ts            # ‚úÖ B√∫squeda
‚îú‚îÄ‚îÄ analyticsController.ts         # ‚úÖ Analytics
‚îú‚îÄ‚îÄ notificationController.ts      # ‚úÖ Notificaciones
‚îú‚îÄ‚îÄ paymentController.ts           # ‚úÖ Pagos
‚îú‚îÄ‚îÄ geolocationController.ts       # ‚úÖ Geolocalizaci√≥n
‚îú‚îÄ‚îÄ chatController.ts              # ‚úÖ Chat
‚îú‚îÄ‚îÄ musicianProfileController.ts   # ‚úÖ Perfil de m√∫sicos
‚îú‚îÄ‚îÄ registerAuthController.ts      # ‚úÖ Registro
‚îú‚îÄ‚îÄ advancedSearchController.ts    # ‚úÖ **NUEVO** - B√∫squeda avanzada
‚îú‚îÄ‚îÄ hiringController.ts            # ‚úÖ **NUEVO** - Contrataci√≥n
‚îú‚îÄ‚îÄ musicianSearchController.ts    # ‚úÖ **NUEVO** - B√∫squeda de m√∫sicos
‚îú‚îÄ‚îÄ ratingController.ts            # ‚úÖ **NUEVO** - Sistema de ratings
‚îú‚îÄ‚îÄ optimizationController.ts      # ‚úÖ **NUEVO** - Optimizaciones
‚îî‚îÄ‚îÄ authGoogleController.ts        # ‚è≥ Google Auth (pendiente)
```

### Rutas (src/routes/)
```
src/routes/
‚îú‚îÄ‚îÄ authRoutes.ts                  # ‚úÖ Autenticaci√≥n
‚îú‚îÄ‚îÄ adminRoutes.ts                 # ‚úÖ Administraci√≥n
‚îú‚îÄ‚îÄ eventsRoutes.ts                # ‚úÖ Eventos
‚îú‚îÄ‚îÄ musicianRequestRoutes.ts       # ‚úÖ Solicitudes
‚îú‚îÄ‚îÄ imagesRoutes.ts                # ‚úÖ Im√°genes
‚îú‚îÄ‚îÄ searchRoutes.ts                # ‚úÖ B√∫squeda
‚îú‚îÄ‚îÄ analyticsRoutes.ts             # ‚úÖ Analytics
‚îú‚îÄ‚îÄ notificationRoutes.ts          # ‚úÖ Notificaciones
‚îú‚îÄ‚îÄ paymentRoutes.ts               # ‚úÖ Pagos
‚îú‚îÄ‚îÄ optimizationRoutes.ts          # ‚úÖ **NUEVO** - Optimizaciones
‚îú‚îÄ‚îÄ geolocationRoutes.ts           # ‚úÖ Geolocalizaci√≥n
‚îú‚îÄ‚îÄ chatRoutes.ts                  # ‚úÖ Chat
‚îú‚îÄ‚îÄ musicianProfileRoutes.ts       # ‚úÖ Perfil de m√∫sicos
‚îú‚îÄ‚îÄ advancedSearchRoutes.ts        # ‚úÖ **NUEVO** - B√∫squeda avanzada
‚îú‚îÄ‚îÄ hiringRoutes.ts                # ‚úÖ **NUEVO** - Contrataci√≥n
‚îú‚îÄ‚îÄ musicianSearchRoutes.ts        # ‚úÖ **NUEVO** - B√∫squeda de m√∫sicos
‚îî‚îÄ‚îÄ superAdminRouter.ts            # ‚úÖ Super Admin
```

### Modelos (src/models/)
```
src/models/
‚îú‚îÄ‚îÄ authModel.ts                   # ‚úÖ Autenticaci√≥n
‚îú‚îÄ‚îÄ eventModel.ts                  # ‚úÖ Eventos
‚îú‚îÄ‚îÄ musicianRequestModel.ts        # ‚úÖ Solicitudes
‚îú‚îÄ‚îÄ imagesModel.ts                 # ‚úÖ Im√°genes
‚îî‚îÄ‚îÄ chatModel.ts                   # ‚úÖ Chat
```

### Servicios (src/services/)
```
src/services/
‚îú‚îÄ‚îÄ searchService.ts               # ‚úÖ B√∫squeda
‚îú‚îÄ‚îÄ analyticsService.ts            # ‚úÖ Analytics
‚îú‚îÄ‚îÄ notificationService.ts         # ‚úÖ Notificaciones
‚îú‚îÄ‚îÄ paymentService.ts              # ‚úÖ Pagos
‚îú‚îÄ‚îÄ geolocationService.ts          # ‚úÖ Geolocalizaci√≥n
‚îú‚îÄ‚îÄ chatService.ts                 # ‚úÖ Chat
‚îú‚îÄ‚îÄ imageService.ts                # ‚úÖ Im√°genes
‚îú‚îÄ‚îÄ loggerService.ts               # ‚úÖ Logging
‚îú‚îÄ‚îÄ musicianStatusService.ts       # ‚úÖ **NUEVO** - Estado de m√∫sicos
‚îú‚îÄ‚îÄ calendarConflictService.ts     # ‚úÖ **NUEVO** - Conflictos de calendario
‚îú‚îÄ‚îÄ rateCalculationService.ts      # ‚úÖ **NUEVO** - C√°lculo de tarifas
‚îú‚îÄ‚îÄ hiringService.ts               # ‚úÖ **NUEVO** - Contrataci√≥n
‚îú‚îÄ‚îÄ musicianSearchService.ts       # ‚úÖ **NUEVO** - B√∫squeda de m√∫sicos
‚îú‚îÄ‚îÄ ratingService.ts               # ‚úÖ **NUEVO** - Sistema de ratings
‚îú‚îÄ‚îÄ cacheService.ts                # ‚úÖ **NUEVO** - Cache Redis
‚îî‚îÄ‚îÄ firestoreOptimizationService.ts # ‚úÖ **NUEVO** - Optimizaci√≥n Firestore
```

### Utilidades (src/utils/)
```
src/utils/
‚îú‚îÄ‚îÄ jwt.ts                         # ‚úÖ JWT
‚îú‚îÄ‚îÄ firebase.ts                    # ‚úÖ Firebase
‚îú‚îÄ‚îÄ mailer.ts                      # ‚úÖ Email
‚îú‚îÄ‚îÄ socket.Io.ts                   # ‚úÖ Socket.IO
‚îú‚îÄ‚îÄ functions.ts                   # ‚úÖ Funciones
‚îú‚îÄ‚îÄ idriveE2.ts                    # ‚úÖ AWS S3
‚îú‚îÄ‚îÄ validatios.ts                  # ‚úÖ Validaciones
‚îú‚îÄ‚îÄ DataTypes.ts                   # ‚úÖ Tipos de datos
‚îú‚îÄ‚îÄ dtos.ts                        # ‚úÖ DTOs
‚îî‚îÄ‚îÄ index.html                     # ‚úÖ HTML
```

### Middleware (src/middleware/)
```
src/middleware/
‚îú‚îÄ‚îÄ authMiddleware.ts              # ‚úÖ Autenticaci√≥n
‚îú‚îÄ‚îÄ adminOnly.ts                   # ‚úÖ Admin only
‚îú‚îÄ‚îÄ requireRole.ts                 # ‚úÖ Roles
‚îú‚îÄ‚îÄ validationMiddleware.ts        # ‚úÖ Validaci√≥n
‚îú‚îÄ‚îÄ uploadMiddleware.ts            # ‚úÖ Upload
‚îú‚îÄ‚îÄ errorHandler.ts                # ‚úÖ Manejo de errores
‚îú‚îÄ‚îÄ compressionMiddleware.ts       # ‚úÖ **NUEVO** - Compresi√≥n HTTP
‚îî‚îÄ‚îÄ queryOptimizationMiddleware.ts # ‚úÖ **NUEVO** - Optimizaci√≥n de consultas
```

## üß™ Patrones de Dise√±o Implementados

### Repository Pattern ‚úÖ
```typescript
interface IRepository<T> {
  create(data: T): Promise<T>;
  findById(id: string): Promise<T | null>;
  update(id: string, data: Partial<T>): Promise<T>;
  delete(id: string): Promise<boolean>;
  findAll(filters?: any): Promise<T[]>;
}
```

### Service Layer Pattern ‚úÖ
```typescript
interface IService<T> {
  create(data: T): Promise<T>;
  getById(id: string): Promise<T | null>;
  update(id: string, data: Partial<T>): Promise<T>;
  delete(id: string): Promise<boolean>;
  getAll(filters?: any): Promise<T[]>;
}
```

### Factory Pattern ‚úÖ
```typescript
interface IEventFactory {
  createEvent(type: EventType, data: EventData): Event;
  createRequest(type: RequestType, data: RequestData): Request;
}
```

### Observer Pattern ‚úÖ
```typescript
interface IObserver {
  update(event: string, data: any): void;
}

interface ISubject {
  attach(observer: IObserver): void;
  detach(observer: IObserver): void;
  notify(event: string, data: any): void;
}
```

## üß™ Gu√≠as de Testing

### Unit Tests ‚úÖ
```typescript
describe('MusicianRequestService', () => {
  it('should create a new request', async () => {
    // Test implementation
  });
  
  it('should update an existing request', async () => {
    // Test implementation
  });
  
  it('should delete a request', async () => {
    // Test implementation
  });
});
```

### Integration Tests ‚úÖ
```typescript
describe('MusicianRequest API', () => {
  it('should create request via API', async () => {
    // Test implementation
  });
  
  it('should accept request via API', async () => {
    // Test implementation
  });
});
```

### Socket.IO Tests ‚úÖ
```typescript
describe('Socket.IO Events', () => {
  it('should emit new_event_request', async () => {
    // Test implementation
  });
  
  it('should emit musician_accepted', async () => {
    // Test implementation
  });
});
```

## üìö Documentaci√≥n a Mantener Actualizada

### Archivos de Documentaci√≥n ‚úÖ
- `README.md` - Documentaci√≥n principal
- `docs/README.md` - √çndice de documentaci√≥n
- `docs/IMPLEMENTATION_STATUS.md` - Estado actual de implementaci√≥n
- `docs/IMPLEMENTATION_PLAN.md` - Plan de implementaci√≥n de 6 fases
- `docs/API_DOCUMENTATION_UI.md` - Documentaci√≥n de API
- `docs/MUSICIAN_REQUESTS_API.md` - API de solicitudes
- `docs/EVENTS_API.md` - API de eventos
- `docs/IMAGES_API.md` - API de im√°genes
- `docs/ADMIN_SYSTEM.md` - Sistema administrativo
- `docs/FRONTEND_INTEGRATION.md` - Integraci√≥n frontend
- `docs/ERROR_HANDLING.md` - Manejo de errores
- `docs/SECURITY.md` - Seguridad
- `docs/SEARCH_API.md` - API de b√∫squeda
- `docs/ANALYTICS_API.md`