2c989eabd83ec6a21dba2962623be275
"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
// Mock the payment system service
jest.mock('../services/paymentSystemService');
jest.mock('../services/pushNotificationService', () => ({
    pushNotificationService: {
        sendNotificationToUser: jest.fn()
    }
}));
// Mock Firebase
jest.mock('../utils/firebase', () => ({
    db: {
        collection: jest.fn().mockReturnValue({
            where: jest.fn().mockReturnThis(),
            get: jest.fn().mockResolvedValue({
                docs: []
            }),
            add: jest.fn().mockResolvedValue({})
        })
    }
}));
// Mock logger
jest.mock('../services/loggerService', () => ({
    logger: {
        info: jest.fn(),
        error: jest.fn(),
        warn: jest.fn()
    }
}));
const paymentSystemController_1 = require("../controllers/paymentSystemController");
const paymentSystemService_1 = require("../services/paymentSystemService");
describe('PaymentSystemController', () => {
    let paymentController;
    let mockPaymentSystemService;
    let mockRequest;
    let mockResponse;
    let mockStatus;
    let mockJson;
    beforeEach(() => {
        // Limpiar mocks antes de cada test
        jest.clearAllMocks();
        // Crear mock del servicio
        mockPaymentSystemService = {
            getUserBalance: jest.fn(),
            registerBankAccount: jest.fn(),
            getUserBankAccounts: jest.fn(),
            uploadDepositVoucher: jest.fn(),
            verifyDeposit: jest.fn(),
            processEventPayment: jest.fn(),
            getMusicianEarnings: jest.fn(),
            requestWithdrawal: jest.fn(),
            processWithdrawal: jest.fn(),
            getPaymentStatistics: jest.fn(),
            getPendingDeposits: jest.fn(),
            getPendingWithdrawals: jest.fn()
        };
        // Mock del constructor del servicio
        paymentSystemService_1.PaymentSystemService.mockImplementation(() => mockPaymentSystemService);
        // Crear instancia del controlador
        paymentController = new paymentSystemController_1.PaymentSystemController();
        // Reemplazar el servicio en el controlador con nuestro mock
        paymentController.paymentService = mockPaymentSystemService;
        // Configurar mocks de respuesta
        mockStatus = jest.fn().mockReturnThis();
        mockJson = jest.fn().mockReturnThis();
        mockResponse = {
            status: mockStatus,
            json: mockJson
        };
    });
    describe('getUserBalance', () => {
        it('should return user balance successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const userEmail = 'user@example.com';
            const mockBalance = {
                userId: userEmail,
                balance: 1000,
                currency: 'RD$',
                lastUpdated: new Date().toISOString(),
                totalDeposits: 2000,
                totalEarnings: 1500,
                totalWithdrawals: 500
            };
            mockRequest = {
                user: {
                    userId: 'user123',
                    userEmail: userEmail,
                    email: userEmail,
                    role: 'user',
                    name: 'Test User'
                }
            };
            mockPaymentSystemService.getUserBalance.mockResolvedValue(mockBalance);
            // Act
            yield paymentController.getUserBalance(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.getUserBalance).toHaveBeenCalledWith(userEmail);
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockBalance
            });
        }));
        it('should return error when user is not authenticated', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            mockRequest = {
                user: undefined
            };
            // Act
            yield paymentController.getUserBalance(mockRequest, mockResponse);
            // Assert
            expect(mockStatus).toHaveBeenCalledWith(401);
            expect(mockJson).toHaveBeenCalledWith({
                error: 'Usuario no autenticado'
            });
        }));
        it('should handle service errors', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const userEmail = 'user@example.com';
            mockRequest = {
                user: {
                    userId: 'user123',
                    userEmail: userEmail,
                    email: userEmail,
                    role: 'user',
                    name: 'Test User'
                }
            };
            mockPaymentSystemService.getUserBalance.mockRejectedValue(new Error('Service error'));
            // Act
            yield paymentController.getUserBalance(mockRequest, mockResponse);
            // Assert
            expect(mockStatus).toHaveBeenCalledWith(500);
            expect(mockJson).toHaveBeenCalledWith({
                success: false,
                error: 'Error obteniendo balance de usuario'
            });
        }));
    });
    describe('registerBankAccount', () => {
        it('should register bank account successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const userEmail = 'user@example.com';
            const accountData = {
                accountHolder: 'John Doe',
                accountNumber: '1234567890',
                accountType: 'savings',
                bankName: 'Banco Popular',
                routingNumber: '123456789'
            };
            const mockAccount = Object.assign(Object.assign({ id: 'bank123', userId: userEmail }, accountData), { isVerified: false, isDefault: true, createdAt: new Date().toISOString(), updatedAt: new Date().toISOString() });
            mockRequest = {
                user: {
                    userId: 'user123',
                    userEmail: userEmail,
                    email: userEmail,
                    role: 'user',
                    name: 'Test User'
                },
                body: accountData
            };
            mockPaymentSystemService.registerBankAccount.mockResolvedValue(mockAccount);
            // Act
            yield paymentController.registerBankAccount(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.registerBankAccount).toHaveBeenCalledWith(userEmail, accountData);
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockAccount
            });
        }));
        it('should return error for missing required fields', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const userEmail = 'user@example.com';
            mockRequest = {
                user: {
                    userId: 'user123',
                    userEmail: userEmail,
                    email: userEmail,
                    role: 'user',
                    name: 'Test User'
                },
                body: {
                    accountHolder: 'John Doe'
                    // Missing required fields
                }
            };
            // Act
            yield paymentController.registerBankAccount(mockRequest, mockResponse);
            // Assert
            expect(mockStatus).toHaveBeenCalledWith(400);
            expect(mockJson).toHaveBeenCalledWith({
                error: 'Datos de cuenta bancaria incompletos'
            });
        }));
    });
    describe('getUserBankAccounts', () => {
        it('should return user bank accounts successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const userEmail = 'user@example.com';
            const mockAccounts = [
                {
                    id: 'bank1',
                    userId: userEmail,
                    accountHolder: 'John Doe',
                    accountNumber: '1234567890',
                    accountType: 'savings',
                    bankName: 'Banco Popular',
                    routingNumber: '123456789',
                    isVerified: true,
                    isDefault: true,
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                }
            ];
            mockRequest = {
                user: {
                    userId: 'user123',
                    userEmail: userEmail,
                    email: userEmail,
                    role: 'user',
                    name: 'Test User'
                }
            };
            mockPaymentSystemService.getUserBankAccounts.mockResolvedValue(mockAccounts);
            // Act
            yield paymentController.getUserBankAccounts(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.getUserBankAccounts).toHaveBeenCalledWith(userEmail);
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockAccounts
            });
        }));
    });
    describe('uploadDepositVoucher', () => {
        it('should upload deposit voucher successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const userEmail = 'user@example.com';
            const depositData = {
                amount: 1000,
                voucherFile: {
                    fieldname: 'voucher',
                    originalname: 'voucher.jpg',
                    encoding: '7bit',
                    mimetype: 'image/jpeg',
                    buffer: Buffer.from('test'),
                    size: 1024,
                    stream: {},
                    destination: '',
                    filename: 'voucher.jpg',
                    path: ''
                },
                accountHolderName: 'Juan Pérez',
                bankName: 'Banco Popular'
            };
            const mockDeposit = {
                id: 'deposit_123',
                userId: userEmail,
                amount: 1000,
                currency: 'RD$',
                voucherFile: {
                    url: 'https://example.com/voucher.jpg',
                    filename: 'voucher.jpg',
                    uploadedAt: new Date().toISOString()
                },
                status: 'pending',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString(),
                accountHolderName: 'Juan Pérez',
                bankName: 'Banco Popular'
            };
            mockRequest = {
                user: {
                    userId: 'user123',
                    userEmail: userEmail,
                    email: userEmail,
                    role: 'user',
                    name: 'Test User'
                },
                body: depositData,
                file: depositData.voucherFile
            };
            mockPaymentSystemService.uploadDepositVoucher.mockResolvedValue(mockDeposit);
            // Act
            yield paymentController.uploadDepositVoucher(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.uploadDepositVoucher).toHaveBeenCalledWith(userEmail, {
                amount: 1000,
                voucherFile: depositData.voucherFile,
                accountHolderName: 'Juan Pérez',
                bankName: 'Banco Popular'
            });
            expect(mockStatus).toHaveBeenCalledWith(201);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockDeposit,
                message: 'Depósito subido exitosamente. Pendiente de verificación por administrador.'
            });
        }));
        it('should return error for missing file', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const userEmail = 'user@example.com';
            mockRequest = {
                user: {
                    userId: 'user123',
                    userEmail: userEmail,
                    email: userEmail,
                    role: 'user',
                    name: 'Test User'
                },
                body: {
                    amount: 1000
                    // Missing voucherFile
                }
            };
            // Act
            yield paymentController.uploadDepositVoucher(mockRequest, mockResponse);
            // Assert
            expect(mockStatus).toHaveBeenCalledWith(400);
            expect(mockJson).toHaveBeenCalledWith({
                error: 'No se proporcionó archivo de comprobante'
            });
        }));
    });
    describe('verifyDeposit', () => {
        it('should verify deposit successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const depositId = 'deposit_123';
            const adminEmail = 'admin@example.com';
            const verificationData = {
                bankDepositDate: '2024-01-15',
                bankDepositTime: '14:30',
                referenceNumber: 'REF123456',
                accountLastFourDigits: '1234',
                verifiedBy: 'admin_123'
            };
            mockRequest = {
                user: {
                    userId: 'admin_123',
                    userEmail: adminEmail,
                    email: adminEmail,
                    role: 'admin',
                    name: 'Admin User'
                },
                params: { depositId },
                body: {
                    approved: true,
                    notes: 'Depósito verificado correctamente',
                    verificationData
                }
            };
            mockPaymentSystemService.verifyDeposit.mockResolvedValue();
            // Act
            yield paymentController.verifyDeposit(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.verifyDeposit).toHaveBeenCalledWith(depositId, adminEmail, true, 'Depósito verificado correctamente', {
                bankDepositDate: verificationData.bankDepositDate,
                bankDepositTime: verificationData.bankDepositTime,
                referenceNumber: verificationData.referenceNumber,
                accountLastFourDigits: verificationData.accountLastFourDigits,
                verifiedBy: verificationData.verifiedBy
            });
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: {
                    depositId,
                    status: 'approved',
                    verifiedBy: adminEmail,
                    verifiedAt: expect.any(String),
                    userBalanceUpdated: true
                },
                message: 'Depósito aprobado exitosamente'
            });
        }));
    });
    describe('payMusicianForEvent', () => {
        it('should process event payment successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const eventId = 'event_123';
            const organizerEmail = 'organizer@example.com';
            const musicianId = 'musician_123';
            const paymentData = {
                amount: 500,
                paymentMethod: 'balance',
                description: 'Pago por evento'
            };
            const mockPayment = {
                id: 'payment_123',
                eventId,
                organizerId: organizerEmail,
                musicianId,
                amount: 500,
                currency: 'RD$',
                paymentMethod: 'balance',
                commission: 50,
                musicianAmount: 450,
                status: 'completed',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockRequest = {
                user: {
                    userId: 'organizer_123',
                    userEmail: organizerEmail,
                    email: organizerEmail,
                    role: 'user',
                    name: 'Organizer User'
                },
                params: { eventId },
                body: {
                    musicianId,
                    amount: 500
                }
            };
            mockPaymentSystemService.processEventPayment.mockResolvedValue(mockPayment);
            // Act
            yield paymentController.payMusicianForEvent(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.processEventPayment).toHaveBeenCalledWith({
                eventId,
                organizerId: organizerEmail,
                musicianId,
                amount: 500
            });
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockPayment
            });
        }));
    });
    describe('getMusicianEarnings', () => {
        it('should return musician earnings successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const musicianEmail = 'musician@example.com';
            const mockEarnings = [
                {
                    id: 'earning_123',
                    musicianId: musicianEmail,
                    eventId: 'event_123',
                    eventPaymentId: 'payment_123',
                    amount: 500,
                    currency: 'RD$',
                    status: 'available',
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                }
            ];
            mockRequest = {
                user: {
                    userId: 'musician_123',
                    userEmail: musicianEmail,
                    email: musicianEmail,
                    role: 'musician',
                    name: 'Musician User'
                }
            };
            mockPaymentSystemService.getMusicianEarnings.mockResolvedValue(mockEarnings);
            // Act
            yield paymentController.getMusicianEarnings(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.getMusicianEarnings).toHaveBeenCalledWith(musicianEmail);
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockEarnings
            });
        }));
    });
    describe('requestWithdrawal', () => {
        it('should request withdrawal successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const musicianEmail = 'musician@example.com';
            const withdrawalData = {
                amount: 200,
                bankAccountId: 'bank_123',
                description: 'Retiro de ganancias'
            };
            const mockWithdrawal = {
                id: 'withdrawal_123',
                musicianId: musicianEmail,
                amount: 200,
                currency: 'RD$',
                bankAccountId: 'bank_123',
                status: 'pending',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockRequest = {
                user: {
                    userId: 'musician_123',
                    userEmail: musicianEmail,
                    email: musicianEmail,
                    role: 'musician',
                    name: 'Musician User'
                },
                body: {
                    amount: 200,
                    bankAccountId: 'bank_123'
                }
            };
            mockPaymentSystemService.requestWithdrawal.mockResolvedValue(mockWithdrawal);
            // Act
            yield paymentController.requestWithdrawal(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.requestWithdrawal).toHaveBeenCalledWith(musicianEmail, {
                amount: 200,
                bankAccountId: 'bank_123'
            });
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockWithdrawal
            });
        }));
    });
    describe('processWithdrawal', () => {
        it('should process withdrawal successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const withdrawalId = 'withdrawal_123';
            const adminEmail = 'admin@example.com';
            const processData = {
                approved: true,
                notes: 'Retiro procesado correctamente'
            };
            mockRequest = {
                user: {
                    userId: 'admin_123',
                    userEmail: adminEmail,
                    email: adminEmail,
                    role: 'admin',
                    name: 'Admin User'
                },
                params: { withdrawalId },
                body: processData
            };
            mockPaymentSystemService.processWithdrawal.mockResolvedValue();
            // Act
            yield paymentController.processWithdrawal(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.processWithdrawal).toHaveBeenCalledWith(withdrawalId, adminEmail, processData.approved, processData.notes);
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                message: 'Retiro aprobado exitosamente'
            });
        }));
    });
    describe('getPaymentStatistics', () => {
        it('should return payment statistics successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const mockStats = {
                totalUsers: 100,
                totalMusicians: 50,
                totalEvents: 200,
                totalDeposits: 50000,
                totalPayments: 40000,
                totalWithdrawals: 10000,
                totalCommissions: 5000,
                pendingDepositsCount: 5,
                pendingWithdrawalsCount: 3,
                averageEventValue: 250,
                monthlyGrowth: 15.5,
                lastUpdated: new Date().toISOString()
            };
            mockRequest = {
                user: {
                    userId: 'admin_123',
                    userEmail: 'admin@example.com',
                    email: 'admin@example.com',
                    role: 'admin',
                    name: 'Admin User'
                }
            };
            mockPaymentSystemService.getPaymentStatistics.mockResolvedValue(mockStats);
            // Act
            yield paymentController.getPaymentStatistics(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.getPaymentStatistics).toHaveBeenCalled();
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockStats
            });
        }));
    });
    describe('getPendingDeposits', () => {
        it('should return pending deposits successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const mockDeposits = [
                {
                    id: 'deposit_123',
                    userId: 'user_123',
                    amount: 1000,
                    currency: 'RD$',
                    status: 'pending',
                    voucherFile: {
                        url: 'https://example.com/voucher_123.jpg',
                        filename: 'voucher_123.jpg',
                        uploadedAt: new Date().toISOString()
                    },
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString(),
                    accountHolderName: 'Juan Pérez',
                    bankName: 'Banco Popular'
                }
            ];
            mockRequest = {
                user: {
                    userId: 'admin_123',
                    userEmail: 'admin@example.com',
                    email: 'admin@example.com',
                    role: 'admin',
                    name: 'Admin User'
                }
            };
            mockPaymentSystemService.getPendingDeposits.mockResolvedValue(mockDeposits);
            // Act
            yield paymentController.getPendingDeposits(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.getPendingDeposits).toHaveBeenCalled();
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockDeposits
            });
        }));
    });
    describe('getPendingWithdrawals', () => {
        it('should return pending withdrawals successfully', () => __awaiter(void 0, void 0, void 0, function* () {
            // Arrange
            const mockWithdrawals = [
                {
                    id: 'withdrawal_123',
                    musicianId: 'musician_123',
                    amount: 200,
                    currency: 'RD$',
                    bankAccountId: 'bank_123',
                    status: 'pending',
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                }
            ];
            mockRequest = {
                user: {
                    userId: 'admin_123',
                    userEmail: 'admin@example.com',
                    email: 'admin@example.com',
                    role: 'admin',
                    name: 'Admin User'
                }
            };
            mockPaymentSystemService.getPendingWithdrawals.mockResolvedValue(mockWithdrawals);
            // Act
            yield paymentController.getPendingWithdrawals(mockRequest, mockResponse);
            // Assert
            expect(mockPaymentSystemService.getPendingWithdrawals).toHaveBeenCalled();
            expect(mockStatus).toHaveBeenCalledWith(200);
            expect(mockJson).toHaveBeenCalledWith({
                success: true,
                data: mockWithdrawals
            });
        }));
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXHNyY1xcQVBQX011c3Npa09uXFxBUFBfTXVzc2lrT25fRXhwcmVzc1xcc3JjXFxfX3Rlc3RzX19cXHBheW1lbnRTeXN0ZW1Db250cm9sbGVyLnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFJQSxrQ0FBa0M7QUFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0FBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN0RCx1QkFBdUIsRUFBRTtRQUN2QixzQkFBc0IsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0tBQ2xDO0NBQ0YsQ0FBQyxDQUFDLENBQUM7QUFFSixnQkFBZ0I7QUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3BDLEVBQUUsRUFBRTtRQUNGLFVBQVUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO1lBQ3BDLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2pDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUM7Z0JBQy9CLElBQUksRUFBRSxFQUFFO2FBQ1QsQ0FBQztZQUNGLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsRUFBRSxDQUFDO1NBQ3JDLENBQUM7S0FDSDtDQUNGLENBQUMsQ0FBQyxDQUFDO0FBRUosY0FBYztBQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsMkJBQTJCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUM1QyxNQUFNLEVBQUU7UUFDTixJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNmLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2hCLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0tBQ2hCO0NBQ0YsQ0FBQyxDQUFD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Q0FBQyxxQkFBcUIsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFDMUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzdDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQztnQkFDcEMsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsSUFBSSxFQUFFLGVBQWU7YUFDdEIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFBLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXHNyY1xcQVBQX011c3Npa09uXFxBUFBfTXVzc2lrT25fRXhwcmVzc1xcc3JjXFxfX3Rlc3RzX19cXHBheW1lbnRTeXN0ZW1Db250cm9sbGVyLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IFBheW1lbnRTeXN0ZW1Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvcGF5bWVudFN5c3RlbUNvbnRyb2xsZXInO1xuaW1wb3J0IHsgUGF5bWVudFN5c3RlbVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9wYXltZW50U3lzdGVtU2VydmljZSc7XG5cbi8vIE1vY2sgdGhlIHBheW1lbnQgc3lzdGVtIHNlcnZpY2Vcbmplc3QubW9jaygnLi4vc2VydmljZXMvcGF5bWVudFN5c3RlbVNlcnZpY2UnKTtcbmplc3QubW9jaygnLi4vc2VydmljZXMvcHVzaE5vdGlmaWNhdGlvblNlcnZpY2UnLCAoKSA9PiAoe1xuICBwdXNoTm90aWZpY2F0aW9uU2VydmljZToge1xuICAgIHNlbmROb3RpZmljYXRpb25Ub1VzZXI6IGplc3QuZm4oKVxuICB9XG59KSk7XG5cbi8vIE1vY2sgRmlyZWJhc2Vcbmplc3QubW9jaygnLi4vdXRpbHMvZmlyZWJhc2UnLCAoKSA9PiAoe1xuICBkYjoge1xuICAgIGNvbGxlY3Rpb246IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgd2hlcmU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgZ2V0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkb2NzOiBbXVxuICAgICAgfSksXG4gICAgICBhZGQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7fSlcbiAgICB9KVxuICB9XG59KSk7XG5cbi8vIE1vY2sgbG9nZ2VyXG5qZXN0Lm1vY2soJy4uL3NlcnZpY2VzL2xvZ2dlclNlcnZpY2UnLCAoKSA9PiAoe1xuICBsb2dnZXI6IHtcbiAgICBpbmZvOiBqZXN0LmZuKCksXG4gICAgZXJyb3I6IGplc3QuZm4oKSxcbiAgICB3YXJuOiBqZXN0LmZuKClcbiAgfVxufSkpO1xuXG5kZXNjcmliZSgnUGF5bWVudFN5c3RlbUNvbnRyb2xsZXInLCAoKSA9PiB7XG4gIGxldCBwYXltZW50Q29udHJvbGxlcjogUGF5bWVudFN5c3RlbUNvbnRyb2xsZXI7XG4gIGxldCBtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2U6IGplc3QuTW9ja2VkPFBheW1lbnRTeXN0ZW1TZXJ2aWNlPjtcbiAgbGV0IG1vY2tSZXF1ZXN0OiBQYXJ0aWFsPFJlcXVlc3Q+O1xuICBsZXQgbW9ja1Jlc3BvbnNlOiBQYXJ0aWFsPFJlc3BvbnNlPjtcbiAgbGV0IG1vY2tTdGF0dXM6IGplc3QuTW9jaztcbiAgbGV0IG1vY2tKc29uOiBqZXN0Lk1vY2s7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gTGltcGlhciBtb2NrcyBhbnRlcyBkZSBjYWRhIHRlc3RcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAvLyBDcmVhciBtb2NrIGRlbCBzZXJ2aWNpb1xuICAgIG1vY2tQYXltZW50U3lzdGVtU2VydmljZSA9IHtcbiAgICAgIGdldFVzZXJCYWxhbmNlOiBqZXN0LmZuKCksXG4gICAgICByZWdpc3RlckJhbmtBY2NvdW50OiBqZXN0LmZuKCksXG4gICAgICBnZXRVc2VyQmFua0FjY291bnRzOiBqZXN0LmZuKCksXG4gICAgICB1cGxvYWREZXBvc2l0Vm91Y2hlcjogamVzdC5mbigpLFxuICAgICAgdmVyaWZ5RGVwb3NpdDogamVzdC5mbigpLFxuICAgICAgcHJvY2Vzc0V2ZW50UGF5bWVudDogamVzdC5mbigpLFxuICAgICAgZ2V0TXVzaWNpYW5FYXJuaW5nczogamVzdC5mbigpLFxuICAgICAgcmVxdWVzdFdpdGhkcmF3YWw6IGplc3QuZm4oKSxcbiAgICAgIHByb2Nlc3NXaXRoZHJhd2FsOiBqZXN0LmZuKCksXG4gICAgICBnZXRQYXltZW50U3RhdGlzdGljczogamVzdC5mbigpLFxuICAgICAgZ2V0UGVuZGluZ0RlcG9zaXRzOiBqZXN0LmZuKCksXG4gICAgICBnZXRQZW5kaW5nV2l0aGRyYXdhbHM6IGplc3QuZm4oKVxuICAgIH0gYXMgYW55O1xuICAgIFxuICAgIC8vIE1vY2sgZGVsIGNvbnN0cnVjdG9yIGRlbCBzZXJ2aWNpb1xuICAgIChQYXltZW50U3lzdGVtU2VydmljZSBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UpO1xuICAgIFxuICAgIC8vIENyZWFyIGluc3RhbmNpYSBkZWwgY29udHJvbGFkb3JcbiAgICBwYXltZW50Q29udHJvbGxlciA9IG5ldyBQYXltZW50U3lzdGVtQ29udHJvbGxlcigpO1xuICAgIFxuICAgIC8vIFJlZW1wbGF6YXIgZWwgc2VydmljaW8gZW4gZWwgY29udHJvbGFkb3IgY29uIG51ZXN0cm8gbW9ja1xuICAgIChwYXltZW50Q29udHJvbGxlciBhcyBhbnkpLnBheW1lbnRTZXJ2aWNlID0gbW9ja1BheW1lbnRTeXN0ZW1TZXJ2aWNlO1xuICAgIFxuICAgIC8vIENvbmZpZ3VyYXIgbW9ja3MgZGUgcmVzcHVlc3RhXG4gICAgbW9ja1N0YXR1cyA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpO1xuICAgIG1vY2tKc29uID0gamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCk7XG4gICAgbW9ja1Jlc3BvbnNlID0ge1xuICAgICAgc3RhdHVzOiBtb2NrU3RhdHVzLFxuICAgICAganNvbjogbW9ja0pzb25cbiAgICB9O1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0VXNlckJhbGFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdXNlciBiYWxhbmNlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVzZXJFbWFpbCA9ICd1c2VyQGV4YW1wbGUuY29tJztcbiAgICAgIGNvbnN0IG1vY2tCYWxhbmNlID0ge1xuICAgICAgICB1c2VySWQ6IHVzZXJFbWFpbCxcbiAgICAgICAgYmFsYW5jZTogMTAwMCxcbiAgICAgICAgY3VycmVuY3k6ICdSRCQnLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB0b3RhbERlcG9zaXRzOiAyMDAwLFxuICAgICAgICB0b3RhbEVhcm5pbmdzOiAxNTAwLFxuICAgICAgICB0b3RhbFdpdGhkcmF3YWxzOiA1MDBcbiAgICAgIH07XG5cbiAgICAgIG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiB1c2VyRW1haWwsXG4gICAgICAgICAgZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcidcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbW9ja1BheW1lbnRTeXN0ZW1TZXJ2aWNlLmdldFVzZXJCYWxhbmNlLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tCYWxhbmNlKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwYXltZW50Q29udHJvbGxlci5nZXRVc2VyQmFsYW5jZShtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UuZ2V0VXNlckJhbGFuY2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHVzZXJFbWFpbCk7XG4gICAgICBleHBlY3QobW9ja1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMjAwKTtcbiAgICAgIGV4cGVjdChtb2NrSnNvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrQmFsYW5jZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlcnJvciB3aGVuIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcjogdW5kZWZpbmVkXG4gICAgICB9O1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IHBheW1lbnRDb250cm9sbGVyLmdldFVzZXJCYWxhbmNlKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KG1vY2tTdGF0dXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDQwMSk7XG4gICAgICBleHBlY3QobW9ja0pzb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgZXJyb3I6ICdVc3VhcmlvIG5vIGF1dGVudGljYWRvJ1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZXJ2aWNlIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVzZXJFbWFpbCA9ICd1c2VyQGV4YW1wbGUuY29tJztcbiAgICAgIG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiB1c2VyRW1haWwsXG4gICAgICAgICAgZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcidcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbW9ja1BheW1lbnRTeXN0ZW1TZXJ2aWNlLmdldFVzZXJCYWxhbmNlLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignU2VydmljZSBlcnJvcicpKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwYXltZW50Q29udHJvbGxlci5nZXRVc2VyQmFsYW5jZShtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChtb2NrU3RhdHVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCg1MDApO1xuICAgICAgZXhwZWN0KG1vY2tKc29uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0Vycm9yIG9idGVuaWVuZG8gYmFsYW5jZSBkZSB1c3VhcmlvJ1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdyZWdpc3RlckJhbmtBY2NvdW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVnaXN0ZXIgYmFuayBhY2NvdW50IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVzZXJFbWFpbCA9ICd1c2VyQGV4YW1wbGUuY29tJztcbiAgICAgIGNvbnN0IGFjY291bnREYXRhID0ge1xuICAgICAgICBhY2NvdW50SG9sZGVyOiAnSm9obiBEb2UnLFxuICAgICAgICBhY2NvdW50TnVtYmVyOiAnMTIzNDU2Nzg5MCcsXG4gICAgICAgIGFjY291bnRUeXBlOiAnc2F2aW5ncycgYXMgY29uc3QsXG4gICAgICAgIGJhbmtOYW1lOiAnQmFuY28gUG9wdWxhcicsXG4gICAgICAgIHJvdXRpbmdOdW1iZXI6ICcxMjM0NTY3ODknXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBtb2NrQWNjb3VudCA9IHtcbiAgICAgICAgaWQ6ICdiYW5rMTIzJyxcbiAgICAgICAgdXNlcklkOiB1c2VyRW1haWwsXG4gICAgICAgIC4uLmFjY291bnREYXRhLFxuICAgICAgICBpc1ZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgaXNEZWZhdWx0OiB0cnVlLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICAgIG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiB1c2VyRW1haWwsXG4gICAgICAgICAgZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogYWNjb3VudERhdGFcbiAgICAgIH07XG5cbiAgICAgIG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5yZWdpc3RlckJhbmtBY2NvdW50Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tBY2NvdW50KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwYXltZW50Q29udHJvbGxlci5yZWdpc3RlckJhbmtBY2NvdW50KG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5yZWdpc3RlckJhbmtBY2NvdW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh1c2VyRW1haWwsIGFjY291bnREYXRhKTtcbiAgICAgIGV4cGVjdChtb2NrU3RhdHVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgyMDApO1xuICAgICAgZXhwZWN0KG1vY2tKc29uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tBY2NvdW50XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVycm9yIGZvciBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVzZXJFbWFpbCA9ICd1c2VyQGV4YW1wbGUuY29tJztcbiAgICAgIG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiB1c2VyRW1haWwsXG4gICAgICAgICAgZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGFjY291bnRIb2xkZXI6ICdKb2huIERvZSdcbiAgICAgICAgICAvLyBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IHBheW1lbnRDb250cm9sbGVyLnJlZ2lzdGVyQmFua0FjY291bnQobW9ja1JlcXVlc3QgYXMgUmVxdWVzdCwgbW9ja1Jlc3BvbnNlIGFzIFJlc3BvbnNlKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QobW9ja1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoNDAwKTtcbiAgICAgIGV4cGVjdChtb2NrSnNvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBlcnJvcjogJ0RhdG9zIGRlIGN1ZW50YSBiYW5jYXJpYSBpbmNvbXBsZXRvcydcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0VXNlckJhbmtBY2NvdW50cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiB1c2VyIGJhbmsgYWNjb3VudHMgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdXNlckVtYWlsID0gJ3VzZXJAZXhhbXBsZS5jb20nO1xuICAgICAgY29uc3QgbW9ja0FjY291bnRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdiYW5rMScsXG4gICAgICAgICAgdXNlcklkOiB1c2VyRW1haWwsXG4gICAgICAgICAgYWNjb3VudEhvbGRlcjogJ0pvaG4gRG9lJyxcbiAgICAgICAgICBhY2NvdW50TnVtYmVyOiAnMTIzNDU2Nzg5MCcsXG4gICAgICAgICAgYWNjb3VudFR5cGU6ICdzYXZpbmdzJyBhcyBjb25zdCxcbiAgICAgICAgICBiYW5rTmFtZTogJ0JhbmNvIFBvcHVsYXInLFxuICAgICAgICAgIHJvdXRpbmdOdW1iZXI6ICcxMjM0NTY3ODknLFxuICAgICAgICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgICAgaXNEZWZhdWx0OiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiB1c2VyRW1haWwsXG4gICAgICAgICAgZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcidcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbW9ja1BheW1lbnRTeXN0ZW1TZXJ2aWNlLmdldFVzZXJCYW5rQWNjb3VudHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja0FjY291bnRzKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwYXltZW50Q29udHJvbGxlci5nZXRVc2VyQmFua0FjY291bnRzKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5nZXRVc2VyQmFua0FjY291bnRzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh1c2VyRW1haWwpO1xuICAgICAgZXhwZWN0KG1vY2tTdGF0dXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDIwMCk7XG4gICAgICBleHBlY3QobW9ja0pzb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja0FjY291bnRzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwbG9hZERlcG9zaXRWb3VjaGVyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXBsb2FkIGRlcG9zaXQgdm91Y2hlciBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB1c2VyRW1haWwgPSAndXNlckBleGFtcGxlLmNvbSc7XG4gICAgICBjb25zdCBkZXBvc2l0RGF0YSA9IHtcbiAgICAgICAgYW1vdW50OiAxMDAwLFxuICAgICAgICB2b3VjaGVyRmlsZToge1xuICAgICAgICAgIGZpZWxkbmFtZTogJ3ZvdWNoZXInLFxuICAgICAgICAgIG9yaWdpbmFsbmFtZTogJ3ZvdWNoZXIuanBnJyxcbiAgICAgICAgICBlbmNvZGluZzogJzdiaXQnLFxuICAgICAgICAgIG1pbWV0eXBlOiAnaW1hZ2UvanBlZycsXG4gICAgICAgICAgYnVmZmVyOiBCdWZmZXIuZnJvbSgndGVzdCcpLFxuICAgICAgICAgIHNpemU6IDEwMjQsXG4gICAgICAgICAgc3RyZWFtOiB7fSBhcyBhbnksXG4gICAgICAgICAgZGVzdGluYXRpb246ICcnLFxuICAgICAgICAgIGZpbGVuYW1lOiAndm91Y2hlci5qcGcnLFxuICAgICAgICAgIHBhdGg6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGFjY291bnRIb2xkZXJOYW1lOiAnSnVhbiBQw6lyZXonLFxuICAgICAgICBiYW5rTmFtZTogJ0JhbmNvIFBvcHVsYXInXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBtb2NrRGVwb3NpdCA9IHtcbiAgICAgICAgaWQ6ICdkZXBvc2l0XzEyMycsXG4gICAgICAgIHVzZXJJZDogdXNlckVtYWlsLFxuICAgICAgICBhbW91bnQ6IDEwMDAsXG4gICAgICAgIGN1cnJlbmN5OiAnUkQkJyxcbiAgICAgICAgdm91Y2hlckZpbGU6IHtcbiAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3ZvdWNoZXIuanBnJyxcbiAgICAgICAgICBmaWxlbmFtZTogJ3ZvdWNoZXIuanBnJyxcbiAgICAgICAgICB1cGxvYWRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycgYXMgY29uc3QsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgYWNjb3VudEhvbGRlck5hbWU6ICdKdWFuIFDDqXJleicsXG4gICAgICAgIGJhbmtOYW1lOiAnQmFuY28gUG9wdWxhcidcbiAgICAgIH07XG5cbiAgICAgIG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiB1c2VyRW1haWwsXG4gICAgICAgICAgZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogZGVwb3NpdERhdGEsXG4gICAgICAgIGZpbGU6IGRlcG9zaXREYXRhLnZvdWNoZXJGaWxlXG4gICAgICB9O1xuXG4gICAgICBtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UudXBsb2FkRGVwb3NpdFZvdWNoZXIubW9ja1Jlc29sdmVkVmFsdWUobW9ja0RlcG9zaXQpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IHBheW1lbnRDb250cm9sbGVyLnVwbG9hZERlcG9zaXRWb3VjaGVyKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KG1vY2tQYXltZW50U3lzdGVtU2VydmljZS51cGxvYWREZXBvc2l0Vm91Y2hlcikudG9IYXZlQmVlbkNhbGxlZFdpdGgodXNlckVtYWlsLCB7XG4gICAgICAgIGFtb3VudDogMTAwMCxcbiAgICAgICAgdm91Y2hlckZpbGU6IGRlcG9zaXREYXRhLnZvdWNoZXJGaWxlLFxuICAgICAgICBhY2NvdW50SG9sZGVyTmFtZTogJ0p1YW4gUMOpcmV6JyxcbiAgICAgICAgYmFua05hbWU6ICdCYW5jbyBQb3B1bGFyJ1xuICAgICAgfSk7XG4gICAgICBleHBlY3QobW9ja1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMjAxKTtcbiAgICAgIGV4cGVjdChtb2NrSnNvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrRGVwb3NpdCxcbiAgICAgICAgbWVzc2FnZTogJ0RlcMOzc2l0byBzdWJpZG8gZXhpdG9zYW1lbnRlLiBQZW5kaWVudGUgZGUgdmVyaWZpY2FjacOzbiBwb3IgYWRtaW5pc3RyYWRvci4nXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVycm9yIGZvciBtaXNzaW5nIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB1c2VyRW1haWwgPSAndXNlckBleGFtcGxlLmNvbSc7XG4gICAgICBtb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIHVzZXJJZDogJ3VzZXIxMjMnLFxuICAgICAgICAgIHVzZXJFbWFpbDogdXNlckVtYWlsLFxuICAgICAgICAgIGVtYWlsOiB1c2VyRW1haWwsXG4gICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgIG5hbWU6ICdUZXN0IFVzZXInXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBhbW91bnQ6IDEwMDBcbiAgICAgICAgICAvLyBNaXNzaW5nIHZvdWNoZXJGaWxlXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdFxuICAgICAgYXdhaXQgcGF5bWVudENvbnRyb2xsZXIudXBsb2FkRGVwb3NpdFZvdWNoZXIobW9ja1JlcXVlc3QgYXMgUmVxdWVzdCwgbW9ja1Jlc3BvbnNlIGFzIFJlc3BvbnNlKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QobW9ja1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoNDAwKTtcbiAgICAgIGV4cGVjdChtb2NrSnNvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBlcnJvcjogJ05vIHNlIHByb3BvcmNpb27DsyBhcmNoaXZvIGRlIGNvbXByb2JhbnRlJ1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd2ZXJpZnlEZXBvc2l0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmVyaWZ5IGRlcG9zaXQgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZGVwb3NpdElkID0gJ2RlcG9zaXRfMTIzJztcbiAgICAgIGNvbnN0IGFkbWluRW1haWwgPSAnYWRtaW5AZXhhbXBsZS5jb20nO1xuICAgICAgY29uc3QgdmVyaWZpY2F0aW9uRGF0YSA9IHtcbiAgICAgICAgYmFua0RlcG9zaXREYXRlOiAnMjAyNC0wMS0xNScsXG4gICAgICAgIGJhbmtEZXBvc2l0VGltZTogJzE0OjMwJyxcbiAgICAgICAgcmVmZXJlbmNlTnVtYmVyOiAnUkVGMTIzNDU2JyxcbiAgICAgICAgYWNjb3VudExhc3RGb3VyRGlnaXRzOiAnMTIzNCcsXG4gICAgICAgIHZlcmlmaWVkQnk6ICdhZG1pbl8xMjMnXG4gICAgICB9O1xuXG4gICAgICBtb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIHVzZXJJZDogJ2FkbWluXzEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiBhZG1pbkVtYWlsLFxuICAgICAgICAgIGVtYWlsOiBhZG1pbkVtYWlsLFxuICAgICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgICAgbmFtZTogJ0FkbWluIFVzZXInXG4gICAgICAgIH0sXG4gICAgICAgIHBhcmFtczogeyBkZXBvc2l0SWQgfSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGFwcHJvdmVkOiB0cnVlLFxuICAgICAgICAgIG5vdGVzOiAnRGVww7NzaXRvIHZlcmlmaWNhZG8gY29ycmVjdGFtZW50ZScsXG4gICAgICAgICAgdmVyaWZpY2F0aW9uRGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UudmVyaWZ5RGVwb3NpdC5tb2NrUmVzb2x2ZWRWYWx1ZSgpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IHBheW1lbnRDb250cm9sbGVyLnZlcmlmeURlcG9zaXQobW9ja1JlcXVlc3QgYXMgUmVxdWVzdCwgbW9ja1Jlc3BvbnNlIGFzIFJlc3BvbnNlKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QobW9ja1BheW1lbnRTeXN0ZW1TZXJ2aWNlLnZlcmlmeURlcG9zaXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBkZXBvc2l0SWQsXG4gICAgICAgIGFkbWluRW1haWwsXG4gICAgICAgIHRydWUsXG4gICAgICAgICdEZXDDs3NpdG8gdmVyaWZpY2FkbyBjb3JyZWN0YW1lbnRlJyxcbiAgICAgICAge1xuICAgICAgICAgIGJhbmtEZXBvc2l0RGF0ZTogdmVyaWZpY2F0aW9uRGF0YS5iYW5rRGVwb3NpdERhdGUsXG4gICAgICAgICAgYmFua0RlcG9zaXRUaW1lOiB2ZXJpZmljYXRpb25EYXRhLmJhbmtEZXBvc2l0VGltZSxcbiAgICAgICAgICByZWZlcmVuY2VOdW1iZXI6IHZlcmlmaWNhdGlvbkRhdGEucmVmZXJlbmNlTnVtYmVyLFxuICAgICAgICAgIGFjY291bnRMYXN0Rm91ckRpZ2l0czogdmVyaWZpY2F0aW9uRGF0YS5hY2NvdW50TGFzdEZvdXJEaWdpdHMsXG4gICAgICAgICAgdmVyaWZpZWRCeTogdmVyaWZpY2F0aW9uRGF0YS52ZXJpZmllZEJ5XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBleHBlY3QobW9ja1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMjAwKTtcbiAgICAgIGV4cGVjdChtb2NrSnNvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGVwb3NpdElkLFxuICAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgICB2ZXJpZmllZEJ5OiBhZG1pbkVtYWlsLFxuICAgICAgICAgIHZlcmlmaWVkQXQ6IGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgICB1c2VyQmFsYW5jZVVwZGF0ZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ0RlcMOzc2l0byBhcHJvYmFkbyBleGl0b3NhbWVudGUnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3BheU11c2ljaWFuRm9yRXZlbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcm9jZXNzIGV2ZW50IHBheW1lbnQgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZXZlbnRJZCA9ICdldmVudF8xMjMnO1xuICAgICAgY29uc3Qgb3JnYW5pemVyRW1haWwgPSAnb3JnYW5pemVyQGV4YW1wbGUuY29tJztcbiAgICAgIGNvbnN0IG11c2ljaWFuSWQgPSAnbXVzaWNpYW5fMTIzJztcbiAgICAgIGNvbnN0IHBheW1lbnREYXRhID0ge1xuICAgICAgICBhbW91bnQ6IDUwMCxcbiAgICAgICAgcGF5bWVudE1ldGhvZDogJ2JhbGFuY2UnIGFzIGNvbnN0LFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BhZ28gcG9yIGV2ZW50bydcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1vY2tQYXltZW50ID0ge1xuICAgICAgICBpZDogJ3BheW1lbnRfMTIzJyxcbiAgICAgICAgZXZlbnRJZCxcbiAgICAgICAgb3JnYW5pemVySWQ6IG9yZ2FuaXplckVtYWlsLFxuICAgICAgICBtdXNpY2lhbklkLFxuICAgICAgICBhbW91bnQ6IDUwMCxcbiAgICAgICAgY3VycmVuY3k6ICdSRCQnLFxuICAgICAgICBwYXltZW50TWV0aG9kOiAnYmFsYW5jZScgYXMgY29uc3QsXG4gICAgICAgIGNvbW1pc3Npb246IDUwLFxuICAgICAgICBtdXNpY2lhbkFtb3VudDogNDUwLFxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnIGFzIGNvbnN0LFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICAgIG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgdXNlcklkOiAnb3JnYW5pemVyXzEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiBvcmdhbml6ZXJFbWFpbCxcbiAgICAgICAgICBlbWFpbDogb3JnYW5pemVyRW1haWwsXG4gICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgIG5hbWU6ICdPcmdhbml6ZXIgVXNlcidcbiAgICAgICAgfSxcbiAgICAgICAgcGFyYW1zOiB7IGV2ZW50SWQgfSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIG11c2ljaWFuSWQsXG4gICAgICAgICAgYW1vdW50OiA1MDBcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbW9ja1BheW1lbnRTeXN0ZW1TZXJ2aWNlLnByb2Nlc3NFdmVudFBheW1lbnQubW9ja1Jlc29sdmVkVmFsdWUobW9ja1BheW1lbnQpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IHBheW1lbnRDb250cm9sbGVyLnBheU11c2ljaWFuRm9yRXZlbnQobW9ja1JlcXVlc3QgYXMgUmVxdWVzdCwgbW9ja1Jlc3BvbnNlIGFzIFJlc3BvbnNlKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QobW9ja1BheW1lbnRTeXN0ZW1TZXJ2aWNlLnByb2Nlc3NFdmVudFBheW1lbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgZXZlbnRJZCxcbiAgICAgICAgb3JnYW5pemVySWQ6IG9yZ2FuaXplckVtYWlsLFxuICAgICAgICBtdXNpY2lhbklkLFxuICAgICAgICBhbW91bnQ6IDUwMFxuICAgICAgfSk7XG4gICAgICBleHBlY3QobW9ja1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMjAwKTtcbiAgICAgIGV4cGVjdChtb2NrSnNvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrUGF5bWVudFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRNdXNpY2lhbkVhcm5pbmdzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIG11c2ljaWFuIGVhcm5pbmdzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG11c2ljaWFuRW1haWwgPSAnbXVzaWNpYW5AZXhhbXBsZS5jb20nO1xuICAgICAgY29uc3QgbW9ja0Vhcm5pbmdzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdlYXJuaW5nXzEyMycsXG4gICAgICAgICAgbXVzaWNpYW5JZDogbXVzaWNpYW5FbWFpbCxcbiAgICAgICAgICBldmVudElkOiAnZXZlbnRfMTIzJyxcbiAgICAgICAgICBldmVudFBheW1lbnRJZDogJ3BheW1lbnRfMTIzJyxcbiAgICAgICAgICBhbW91bnQ6IDUwMCxcbiAgICAgICAgICBjdXJyZW5jeTogJ1JEJCcsXG4gICAgICAgICAgc3RhdHVzOiAnYXZhaWxhYmxlJyBhcyBjb25zdCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBtb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIHVzZXJJZDogJ211c2ljaWFuXzEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiBtdXNpY2lhbkVtYWlsLFxuICAgICAgICAgIGVtYWlsOiBtdXNpY2lhbkVtYWlsLFxuICAgICAgICAgIHJvbGU6ICdtdXNpY2lhbicsXG4gICAgICAgICAgbmFtZTogJ011c2ljaWFuIFVzZXInXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5nZXRNdXNpY2lhbkVhcm5pbmdzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tFYXJuaW5ncyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgYXdhaXQgcGF5bWVudENvbnRyb2xsZXIuZ2V0TXVzaWNpYW5FYXJuaW5ncyhtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UuZ2V0TXVzaWNpYW5FYXJuaW5ncykudG9IYXZlQmVlbkNhbGxlZFdpdGgobXVzaWNpYW5FbWFpbCk7XG4gICAgICBleHBlY3QobW9ja1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMjAwKTtcbiAgICAgIGV4cGVjdChtb2NrSnNvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrRWFybmluZ3NcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVxdWVzdFdpdGhkcmF3YWwnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXF1ZXN0IHdpdGhkcmF3YWwgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbXVzaWNpYW5FbWFpbCA9ICdtdXNpY2lhbkBleGFtcGxlLmNvbSc7XG4gICAgICBjb25zdCB3aXRoZHJhd2FsRGF0YSA9IHtcbiAgICAgICAgYW1vdW50OiAyMDAsXG4gICAgICAgIGJhbmtBY2NvdW50SWQ6ICdiYW5rXzEyMycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUmV0aXJvIGRlIGdhbmFuY2lhcydcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1vY2tXaXRoZHJhd2FsID0ge1xuICAgICAgICBpZDogJ3dpdGhkcmF3YWxfMTIzJyxcbiAgICAgICAgbXVzaWNpYW5JZDogbXVzaWNpYW5FbWFpbCxcbiAgICAgICAgYW1vdW50OiAyMDAsXG4gICAgICAgIGN1cnJlbmN5OiAnUkQkJyxcbiAgICAgICAgYmFua0FjY291bnRJZDogJ2JhbmtfMTIzJyxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycgYXMgY29uc3QsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICB1c2VySWQ6ICdtdXNpY2lhbl8xMjMnLFxuICAgICAgICAgIHVzZXJFbWFpbDogbXVzaWNpYW5FbWFpbCxcbiAgICAgICAgICBlbWFpbDogbXVzaWNpYW5FbWFpbCxcbiAgICAgICAgICByb2xlOiAnbXVzaWNpYW4nLFxuICAgICAgICAgIG5hbWU6ICdNdXNpY2lhbiBVc2VyJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgYW1vdW50OiAyMDAsXG4gICAgICAgICAgYmFua0FjY291bnRJZDogJ2JhbmtfMTIzJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UucmVxdWVzdFdpdGhkcmF3YWwubW9ja1Jlc29sdmVkVmFsdWUobW9ja1dpdGhkcmF3YWwpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IHBheW1lbnRDb250cm9sbGVyLnJlcXVlc3RXaXRoZHJhd2FsKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5yZXF1ZXN0V2l0aGRyYXdhbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgobXVzaWNpYW5FbWFpbCwge1xuICAgICAgICBhbW91bnQ6IDIwMCxcbiAgICAgICAgYmFua0FjY291bnRJZDogJ2JhbmtfMTIzJ1xuICAgICAgfSk7XG4gICAgICBleHBlY3QobW9ja1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMjAwKTtcbiAgICAgIGV4cGVjdChtb2NrSnNvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrV2l0aGRyYXdhbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdwcm9jZXNzV2l0aGRyYXdhbCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHByb2Nlc3Mgd2l0aGRyYXdhbCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB3aXRoZHJhd2FsSWQgPSAnd2l0aGRyYXdhbF8xMjMnO1xuICAgICAgY29uc3QgYWRtaW5FbWFpbCA9ICdhZG1pbkBleGFtcGxlLmNvbSc7XG4gICAgICBjb25zdCBwcm9jZXNzRGF0YSA9IHtcbiAgICAgICAgYXBwcm92ZWQ6IHRydWUsXG4gICAgICAgIG5vdGVzOiAnUmV0aXJvIHByb2Nlc2FkbyBjb3JyZWN0YW1lbnRlJ1xuICAgICAgfTtcblxuICAgICAgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICB1c2VySWQ6ICdhZG1pbl8xMjMnLFxuICAgICAgICAgIHVzZXJFbWFpbDogYWRtaW5FbWFpbCxcbiAgICAgICAgICBlbWFpbDogYWRtaW5FbWFpbCxcbiAgICAgICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgICAgIG5hbWU6ICdBZG1pbiBVc2VyJ1xuICAgICAgICB9LFxuICAgICAgICBwYXJhbXM6IHsgd2l0aGRyYXdhbElkIH0sXG4gICAgICAgIGJvZHk6IHByb2Nlc3NEYXRhXG4gICAgICB9O1xuXG4gICAgICBtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UucHJvY2Vzc1dpdGhkcmF3YWwubW9ja1Jlc29sdmVkVmFsdWUoKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwYXltZW50Q29udHJvbGxlci5wcm9jZXNzV2l0aGRyYXdhbChtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UucHJvY2Vzc1dpdGhkcmF3YWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICB3aXRoZHJhd2FsSWQsXG4gICAgICAgIGFkbWluRW1haWwsXG4gICAgICAgIHByb2Nlc3NEYXRhLmFwcHJvdmVkLFxuICAgICAgICBwcm9jZXNzRGF0YS5ub3Rlc1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChtb2NrU3RhdHVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgyMDApO1xuICAgICAgZXhwZWN0KG1vY2tKc29uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6ICdSZXRpcm8gYXByb2JhZG8gZXhpdG9zYW1lbnRlJ1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRQYXltZW50U3RhdGlzdGljcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwYXltZW50IHN0YXRpc3RpY3Mgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbW9ja1N0YXRzID0ge1xuICAgICAgICB0b3RhbFVzZXJzOiAxMDAsXG4gICAgICAgIHRvdGFsTXVzaWNpYW5zOiA1MCxcbiAgICAgICAgdG90YWxFdmVudHM6IDIwMCxcbiAgICAgICAgdG90YWxEZXBvc2l0czogNTAwMDAsXG4gICAgICAgIHRvdGFsUGF5bWVudHM6IDQwMDAwLFxuICAgICAgICB0b3RhbFdpdGhkcmF3YWxzOiAxMDAwMCxcbiAgICAgICAgdG90YWxDb21taXNzaW9uczogNTAwMCxcbiAgICAgICAgcGVuZGluZ0RlcG9zaXRzQ291bnQ6IDUsXG4gICAgICAgIHBlbmRpbmdXaXRoZHJhd2Fsc0NvdW50OiAzLFxuICAgICAgICBhdmVyYWdlRXZlbnRWYWx1ZTogMjUwLFxuICAgICAgICBtb250aGx5R3Jvd3RoOiAxNS41LFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuXG4gICAgICBtb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIHVzZXJJZDogJ2FkbWluXzEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgICAgbmFtZTogJ0FkbWluIFVzZXInXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5nZXRQYXltZW50U3RhdGlzdGljcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3RhdHMpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IHBheW1lbnRDb250cm9sbGVyLmdldFBheW1lbnRTdGF0aXN0aWNzKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5nZXRQYXltZW50U3RhdGlzdGljcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tTdGF0dXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDIwMCk7XG4gICAgICBleHBlY3QobW9ja0pzb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja1N0YXRzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFBlbmRpbmdEZXBvc2l0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwZW5kaW5nIGRlcG9zaXRzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1vY2tEZXBvc2l0cyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZGVwb3NpdF8xMjMnLFxuICAgICAgICAgIHVzZXJJZDogJ3VzZXJfMTIzJyxcbiAgICAgICAgICBhbW91bnQ6IDEwMDAsXG4gICAgICAgICAgY3VycmVuY3k6ICdSRCQnLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgIHZvdWNoZXJGaWxlOiB7XG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3ZvdWNoZXJfMTIzLmpwZycsXG4gICAgICAgICAgICBmaWxlbmFtZTogJ3ZvdWNoZXJfMTIzLmpwZycsXG4gICAgICAgICAgICB1cGxvYWRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGFjY291bnRIb2xkZXJOYW1lOiAnSnVhbiBQw6lyZXonLFxuICAgICAgICAgIGJhbmtOYW1lOiAnQmFuY28gUG9wdWxhcidcbiAgICAgICAgfVxuICAgICAgXTtcblxuICAgICAgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICB1c2VySWQ6ICdhZG1pbl8xMjMnLFxuICAgICAgICAgIHVzZXJFbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBlbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgICAgIG5hbWU6ICdBZG1pbiBVc2VyJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBtb2NrUGF5bWVudFN5c3RlbVNlcnZpY2UuZ2V0UGVuZGluZ0RlcG9zaXRzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tEZXBvc2l0cyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgYXdhaXQgcGF5bWVudENvbnRyb2xsZXIuZ2V0UGVuZGluZ0RlcG9zaXRzKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5nZXRQZW5kaW5nRGVwb3NpdHMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrU3RhdHVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgyMDApO1xuICAgICAgZXhwZWN0KG1vY2tKc29uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tEZXBvc2l0c1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRQZW5kaW5nV2l0aGRyYXdhbHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcGVuZGluZyB3aXRoZHJhd2FscyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrV2l0aGRyYXdhbHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3dpdGhkcmF3YWxfMTIzJyxcbiAgICAgICAgICBtdXNpY2lhbklkOiAnbXVzaWNpYW5fMTIzJyxcbiAgICAgICAgICBhbW91bnQ6IDIwMCxcbiAgICAgICAgICBjdXJyZW5jeTogJ1JEJCcsXG4gICAgICAgICAgYmFua0FjY291bnRJZDogJ2JhbmtfMTIzJyxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBtb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIHVzZXJJZDogJ2FkbWluXzEyMycsXG4gICAgICAgICAgdXNlckVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgICAgbmFtZTogJ0FkbWluIFVzZXInXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG1vY2tQYXltZW50U3lzdGVtU2VydmljZS5nZXRQZW5kaW5nV2l0aGRyYXdhbHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1dpdGhkcmF3YWxzKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwYXltZW50Q29udHJvbGxlci5nZXRQZW5kaW5nV2l0aGRyYXdhbHMobW9ja1JlcXVlc3QgYXMgUmVxdWVzdCwgbW9ja1Jlc3BvbnNlIGFzIFJlc3BvbnNlKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QobW9ja1BheW1lbnRTeXN0ZW1TZXJ2aWNlLmdldFBlbmRpbmdXaXRoZHJhd2FscykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tTdGF0dXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDIwMCk7XG4gICAgICBleHBlY3QobW9ja0pzb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja1dpdGhkcmF3YWxzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTsgXG4iXSwidmVyc2lvbiI6M30=